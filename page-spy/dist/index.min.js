var PageSpy = (function () {
  'use strict';
  function c(e, t, n, r, o, a, i) {
    try {
      var s = e[a](i),
        c = s.value;
    } catch (e) {
      return void n(e);
    }
    s.done ? t(c) : Promise.resolve(c).then(r, o);
  }
  function r(s) {
    return function () {
      var e = this,
        i = arguments;
      return new Promise(function (t, n) {
        var r = s.apply(e, i);
        function o(e) {
          c(r, t, n, o, a, 'next', e);
        }
        function a(e) {
          c(r, t, n, o, a, 'throw', e);
        }
        o(void 0);
      });
    };
  }
  function a(e, t) {
    if (!(e instanceof t))
      throw new TypeError('Cannot call a class as a function');
  }
  function he(e) {
    return (he =
      'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
        ? function (e) {
            return typeof e;
          }
        : function (e) {
            return e &&
              'function' == typeof Symbol &&
              e.constructor === Symbol &&
              e !== Symbol.prototype
              ? 'symbol'
              : typeof e;
          })(e);
  }
  function L(e) {
    e = (function (e, t) {
      if ('object' !== he(e) || null === e) return e;
      var n = e[Symbol.toPrimitive];
      if (void 0 === n) return ('string' === t ? String : Number)(e);
      if ('object' !== he((n = n.call(e, t || 'default')))) return n;
      throw new TypeError('@@toPrimitive must return a primitive value.');
    })(e, 'string');
    return 'symbol' === he(e) ? e : String(e);
  }
  function M(e, t) {
    for (var n = 0; n < t.length; n++) {
      var r = t[n];
      (r.enumerable = r.enumerable || !1),
        (r.configurable = !0),
        'value' in r && (r.writable = !0),
        Object.defineProperty(e, L(r.key), r);
    }
  }
  function s(e, t, n) {
    return (
      t && M(e.prototype, t),
      n && M(e, n),
      Object.defineProperty(e, 'prototype', { writable: !1 }),
      e
    );
  }
  function l(e, t, n) {
    (t = L(t)) in e
      ? Object.defineProperty(e, t, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        })
      : (e[t] = n);
  }
  var t,
    S,
    Q,
    n = {},
    o = {
      get exports() {
        return n;
      },
      set exports(e) {
        n = e;
      },
    },
    i = {};
  function u(e) {
    return (
      (t.exports = u =
        'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
          ? function (e) {
              return typeof e;
            }
          : function (e) {
              return e &&
                'function' == typeof Symbol &&
                e.constructor === Symbol &&
                e !== Symbol.prototype
                ? 'symbol'
                : typeof e;
            }),
      (t.exports.__esModule = !0),
      (t.exports.default = t.exports),
      u(e)
    );
  }
  function I() {
    (S.exports = function () {
      return i;
    }),
      (S.exports.__esModule = !0),
      (S.exports.default = S.exports);
    var i = {},
      e = Object.prototype,
      c = e.hasOwnProperty,
      l =
        Object.defineProperty ||
        function (e, t, n) {
          e[t] = n.value;
        },
      t = 'function' == typeof Symbol ? Symbol : {},
      r = t.iterator || '@@iterator',
      n = t.asyncIterator || '@@asyncIterator',
      o = t.toStringTag || '@@toStringTag';
    function a(e, t, n) {
      return (
        Object.defineProperty(e, t, {
          value: n,
          enumerable: !0,
          configurable: !0,
          writable: !0,
        }),
        e[t]
      );
    }
    try {
      a({}, '');
    } catch (e) {
      a = function (e, t, n) {
        return (e[t] = n);
      };
    }
    function s(e, t, n, r) {
      var o,
        a,
        i,
        s,
        t = t && t.prototype instanceof p ? t : p,
        t = Object.create(t.prototype),
        r = new w(r || []);
      return (
        l(t, '_invoke', {
          value:
            ((o = e),
            (a = n),
            (i = r),
            (s = 'suspendedStart'),
            function (e, t) {
              if ('executing' === s)
                throw new Error('Generator is already running');
              if ('completed' === s) {
                if ('throw' === e) throw t;
                return k();
              }
              for (i.method = e, i.arg = t; ; ) {
                var n = i.delegate;
                if (n) {
                  n = (function e(t, n) {
                    var r = n.method,
                      o = t.iterator[r];
                    if (void 0 === o)
                      return (
                        (n.delegate = null),
                        ('throw' === r &&
                          t.iterator.return &&
                          ((n.method = 'return'),
                          (n.arg = void 0),
                          e(t, n),
                          'throw' === n.method)) ||
                          ('return' !== r &&
                            ((n.method = 'throw'),
                            (n.arg = new TypeError(
                              "The iterator does not provide a '" +
                                r +
                                "' method",
                            )))),
                        d
                      );
                    r = u(o, t.iterator, n.arg);
                    if ('throw' === r.type)
                      return (
                        (n.method = 'throw'),
                        (n.arg = r.arg),
                        (n.delegate = null),
                        d
                      );
                    o = r.arg;
                    return o
                      ? o.done
                        ? ((n[t.resultName] = o.value),
                          (n.next = t.nextLoc),
                          'return' !== n.method &&
                            ((n.method = 'next'), (n.arg = void 0)),
                          (n.delegate = null),
                          d)
                        : o
                      : ((n.method = 'throw'),
                        (n.arg = new TypeError(
                          'iterator result is not an object',
                        )),
                        (n.delegate = null),
                        d);
                  })(n, i);
                  if (n) {
                    if (n === d) continue;
                    return n;
                  }
                }
                if ('next' === i.method) i.sent = i._sent = i.arg;
                else if ('throw' === i.method) {
                  if ('suspendedStart' === s) throw ((s = 'completed'), i.arg);
                  i.dispatchException(i.arg);
                } else 'return' === i.method && i.abrupt('return', i.arg);
                s = 'executing';
                n = u(o, a, i);
                if ('normal' === n.type) {
                  if (
                    ((s = i.done ? 'completed' : 'suspendedYield'), n.arg === d)
                  )
                    continue;
                  return { value: n.arg, done: i.done };
                }
                'throw' === n.type &&
                  ((s = 'completed'), (i.method = 'throw'), (i.arg = n.arg));
              }
            }),
        }),
        t
      );
    }
    function u(e, t, n) {
      try {
        return { type: 'normal', arg: e.call(t, n) };
      } catch (e) {
        return { type: 'throw', arg: e };
      }
    }
    i.wrap = s;
    var d = {};
    function p() {}
    function f() {}
    function h() {}
    var t = {},
      y =
        (a(t, r, function () {
          return this;
        }),
        Object.getPrototypeOf),
      y = y && y(y(E([]))),
      m =
        (y && y !== e && c.call(y, r) && (t = y),
        (h.prototype = p.prototype = Object.create(t)));
    function A(e) {
      ['next', 'throw', 'return'].forEach(function (t) {
        a(e, t, function (e) {
          return this._invoke(t, e);
        });
      });
    }
    function g(i, s) {
      var t;
      l(this, '_invoke', {
        value: function (n, r) {
          function e() {
            return new s(function (e, t) {
              !(function t(e, n, r, o) {
                var a,
                  e = u(i[e], i, n);
                if ('throw' !== e.type)
                  return (n = (a = e.arg).value) &&
                    'object' == Q(n) &&
                    c.call(n, '__await')
                    ? s.resolve(n.__await).then(
                        function (e) {
                          t('next', e, r, o);
                        },
                        function (e) {
                          t('throw', e, r, o);
                        },
                      )
                    : s.resolve(n).then(
                        function (e) {
                          (a.value = e), r(a);
                        },
                        function (e) {
                          return t('throw', e, r, o);
                        },
                      );
                o(e.arg);
              })(n, r, e, t);
            });
          }
          return (t = t ? t.then(e, e) : e());
        },
      });
    }
    function v(e) {
      var t = { tryLoc: e[0] };
      1 in e && (t.catchLoc = e[1]),
        2 in e && ((t.finallyLoc = e[2]), (t.afterLoc = e[3])),
        this.tryEntries.push(t);
    }
    function b(e) {
      var t = e.completion || {};
      (t.type = 'normal'), delete t.arg, (e.completion = t);
    }
    function w(e) {
      (this.tryEntries = [{ tryLoc: 'root' }]),
        e.forEach(v, this),
        this.reset(!0);
    }
    function E(t) {
      if (t) {
        var n,
          e = t[r];
        if (e) return e.call(t);
        if ('function' == typeof t.next) return t;
        if (!isNaN(t.length))
          return (
            (n = -1),
            ((e = function e() {
              for (; ++n < t.length; )
                if (c.call(t, n)) return (e.value = t[n]), (e.done = !1), e;
              return (e.value = void 0), (e.done = !0), e;
            }).next = e)
          );
      }
      return { next: k };
    }
    function k() {
      return { value: void 0, done: !0 };
    }
    return (
      l(m, 'constructor', { value: (f.prototype = h), configurable: !0 }),
      l(h, 'constructor', { value: f, configurable: !0 }),
      (f.displayName = a(h, o, 'GeneratorFunction')),
      (i.isGeneratorFunction = function (e) {
        e = 'function' == typeof e && e.constructor;
        return (
          !!e && (e === f || 'GeneratorFunction' === (e.displayName || e.name))
        );
      }),
      (i.mark = function (e) {
        return (
          Object.setPrototypeOf
            ? Object.setPrototypeOf(e, h)
            : ((e.__proto__ = h), a(e, o, 'GeneratorFunction')),
          (e.prototype = Object.create(m)),
          e
        );
      }),
      (i.awrap = function (e) {
        return { __await: e };
      }),
      A(g.prototype),
      a(g.prototype, n, function () {
        return this;
      }),
      (i.AsyncIterator = g),
      (i.async = function (e, t, n, r, o) {
        void 0 === o && (o = Promise);
        var a = new g(s(e, t, n, r), o);
        return i.isGeneratorFunction(t)
          ? a
          : a.next().then(function (e) {
              return e.done ? e.value : a.next();
            });
      }),
      A(m),
      a(m, o, 'Generator'),
      a(m, r, function () {
        return this;
      }),
      a(m, 'toString', function () {
        return '[object Generator]';
      }),
      (i.keys = function (e) {
        var t,
          n = Object(e),
          r = [];
        for (t in n) r.push(t);
        return (
          r.reverse(),
          function e() {
            for (; r.length; ) {
              var t = r.pop();
              if (t in n) return (e.value = t), (e.done = !1), e;
            }
            return (e.done = !0), e;
          }
        );
      }),
      (i.values = E),
      (w.prototype = {
        constructor: w,
        reset: function (e) {
          if (
            ((this.prev = 0),
            (this.next = 0),
            (this.sent = this._sent = void 0),
            (this.done = !1),
            (this.delegate = null),
            (this.method = 'next'),
            (this.arg = void 0),
            this.tryEntries.forEach(b),
            !e)
          )
            for (var t in this)
              't' === t.charAt(0) &&
                c.call(this, t) &&
                !isNaN(+t.slice(1)) &&
                (this[t] = void 0);
        },
        stop: function () {
          this.done = !0;
          var e = this.tryEntries[0].completion;
          if ('throw' === e.type) throw e.arg;
          return this.rval;
        },
        dispatchException: function (n) {
          if (this.done) throw n;
          var r = this;
          function e(e, t) {
            return (
              (a.type = 'throw'),
              (a.arg = n),
              (r.next = e),
              t && ((r.method = 'next'), (r.arg = void 0)),
              !!t
            );
          }
          for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
            var o = this.tryEntries[t],
              a = o.completion;
            if ('root' === o.tryLoc) return e('end');
            if (o.tryLoc <= this.prev) {
              var i = c.call(o, 'catchLoc'),
                s = c.call(o, 'finallyLoc');
              if (i && s) {
                if (this.prev < o.catchLoc) return e(o.catchLoc, !0);
                if (this.prev < o.finallyLoc) return e(o.finallyLoc);
              } else if (i) {
                if (this.prev < o.catchLoc) return e(o.catchLoc, !0);
              } else {
                if (!s)
                  throw new Error('try statement without catch or finally');
                if (this.prev < o.finallyLoc) return e(o.finallyLoc);
              }
            }
          }
        },
        abrupt: function (e, t) {
          for (var n = this.tryEntries.length - 1; 0 <= n; --n) {
            var r = this.tryEntries[n];
            if (
              r.tryLoc <= this.prev &&
              c.call(r, 'finallyLoc') &&
              this.prev < r.finallyLoc
            ) {
              var o = r;
              break;
            }
          }
          var a = (o =
            o &&
            ('break' === e || 'continue' === e) &&
            o.tryLoc <= t &&
            t <= o.finallyLoc
              ? null
              : o)
            ? o.completion
            : {};
          return (
            (a.type = e),
            (a.arg = t),
            o
              ? ((this.method = 'next'), (this.next = o.finallyLoc), d)
              : this.complete(a)
          );
        },
        complete: function (e, t) {
          if ('throw' === e.type) throw e.arg;
          return (
            'break' === e.type || 'continue' === e.type
              ? (this.next = e.arg)
              : 'return' === e.type
              ? ((this.rval = this.arg = e.arg),
                (this.method = 'return'),
                (this.next = 'end'))
              : 'normal' === e.type && t && (this.next = t),
            d
          );
        },
        finish: function (e) {
          for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
            var n = this.tryEntries[t];
            if (n.finallyLoc === e)
              return this.complete(n.completion, n.afterLoc), b(n), d;
          }
        },
        catch: function (e) {
          for (var t = this.tryEntries.length - 1; 0 <= t; --t) {
            var n,
              r,
              o = this.tryEntries[t];
            if (o.tryLoc === e)
              return (
                'throw' === (n = o.completion).type && ((r = n.arg), b(o)), r
              );
          }
          throw new Error('illegal catch attempt');
        },
        delegateYield: function (e, t, n) {
          return (
            (this.delegate = { iterator: E(e), resultName: t, nextLoc: n }),
            'next' === this.method && (this.arg = void 0),
            d
          );
        },
      }),
      i
    );
  }
  ((t = {
    get exports() {
      return i;
    },
    set exports(e) {
      i = e;
    },
  }).exports = u),
    (t.exports.__esModule = !0),
    (t.exports.default = t.exports),
    (S = o),
    (Q = i.default),
    (S.exports = I),
    (S.exports.__esModule = !0),
    (S.exports.default = S.exports);
  var o = n(),
    d = o;
  try {
    regeneratorRuntime = o;
  } catch (e) {
    'object' == typeof globalThis
      ? (globalThis.regeneratorRuntime = o)
      : Function('r', 'regeneratorRuntime = r')(o);
  }
  var _ = (function () {
    function r() {
      var t = this,
        e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {},
        n = (a(this, r), e.className),
        n = void 0 === n ? '' : n,
        e = e.el,
        e = document.createElement(void 0 === e ? 'div' : e);
      (e.dataset.testid = 'modal'),
        (e.className = ['page-spy-modal', n].join(' ')),
        (e.style.display = 'none'),
        (e.onclick = function (e) {
          e.stopPropagation(), e.preventDefault(), t.close();
        }),
        (this.el = e);
    }
    return (
      s(r, [
        {
          key: 'show',
          value: function () {
            var e = this;
            (this.el.style.display = 'flex'),
              setTimeout(function () {
                e.el.classList.add('show');
              }, 50);
          },
        },
        {
          key: 'close',
          value: function () {
            var e = this;
            this.el.classList.remove('show'),
              setTimeout(function () {
                e.el.style.display = 'none';
              }, 300);
          },
        },
        {
          key: 'append',
          value: function (e) {
            this.el.appendChild(e);
          },
        },
      ]),
      r
    );
  })();
  function p(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
    return r;
  }
  function U(e, t) {
    var n;
    if (e)
      return 'string' == typeof e
        ? p(e, t)
        : 'Map' ===
            (n =
              'Object' ===
                (n = Object.prototype.toString.call(e).slice(8, -1)) &&
              e.constructor
                ? e.constructor.name
                : n) || 'Set' === n
        ? Array.from(e)
        : 'Arguments' === n ||
          /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
        ? p(e, t)
        : void 0;
  }
  function m(e, t) {
    return (
      (function (e) {
        if (Array.isArray(e)) return e;
      })(e) ||
      (function (e, t) {
        var n =
          null == e
            ? null
            : ('undefined' != typeof Symbol && e[Symbol.iterator]) ||
              e['@@iterator'];
        if (null != n) {
          var r,
            o,
            a,
            i,
            s = [],
            c = !0,
            l = !1;
          try {
            if (((a = (n = n.call(e)).next), 0 === t)) {
              if (Object(n) !== n) return;
              c = !1;
            } else
              for (
                ;
                !(c = (r = a.call(n)).done) &&
                (s.push(r.value), s.length !== t);
                c = !0
              );
          } catch (e) {
            (l = !0), (o = e);
          } finally {
            try {
              if (!c && null != n.return && ((i = n.return()), Object(i) !== i))
                return;
            } finally {
              if (l) throw o;
            }
          }
          return s;
        }
      })(e, t) ||
      U(e, t) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
        );
      })()
    );
  }
  var N = function () {
      var t = document.getSelection();
      if (!t.rangeCount) return function () {};
      for (var e = document.activeElement, n = [], r = 0; r < t.rangeCount; r++)
        n.push(t.getRangeAt(r));
      switch (e.tagName.toUpperCase()) {
        case 'INPUT':
        case 'TEXTAREA':
          e.blur();
          break;
        default:
          e = null;
      }
      return (
        t.removeAllRanges(),
        function () {
          'Caret' === t.type && t.removeAllRanges(),
            t.rangeCount ||
              n.forEach(function (e) {
                t.addRange(e);
              }),
            e && e.focus();
        }
      );
    },
    q = { 'text/plain': 'Text', 'text/html': 'Url', default: 'Text' };
  var F = function (n, r) {
    var t,
      e,
      o,
      a,
      i = !1,
      s = (r = r || {}).debug || !1;
    try {
      var c = N(),
        l = document.createRange(),
        u = document.getSelection();
      if (
        (((e = document.createElement('span')).textContent = n),
        (e.ariaHidden = 'true'),
        (e.style.all = 'unset'),
        (e.style.position = 'fixed'),
        (e.style.top = 0),
        (e.style.clip = 'rect(0, 0, 0, 0)'),
        (e.style.whiteSpace = 'pre'),
        (e.style.webkitUserSelect = 'text'),
        (e.style.MozUserSelect = 'text'),
        (e.style.msUserSelect = 'text'),
        (e.style.userSelect = 'text'),
        e.addEventListener('copy', function (e) {
          var t;
          e.stopPropagation(),
            r.format &&
              (e.preventDefault(),
              void 0 === e.clipboardData
                ? (s && console.warn('unable to use e.clipboardData'),
                  s && console.warn('trying IE specific stuff'),
                  window.clipboardData.clearData(),
                  (t = q[r.format] || q.default),
                  window.clipboardData.setData(t, n))
                : (e.clipboardData.clearData(),
                  e.clipboardData.setData(r.format, n))),
            r.onCopy && (e.preventDefault(), r.onCopy(e.clipboardData));
        }),
        document.body.appendChild(e),
        l.selectNodeContents(e),
        u.addRange(l),
        !document.execCommand('copy'))
      )
        throw new Error('copy command was unsuccessful');
      i = !0;
    } catch (e) {
      s && console.error('unable to copy using execCommand: ', e),
        s && console.warn('trying IE specific stuff');
      try {
        window.clipboardData.setData(r.format || 'text', n),
          r.onCopy && r.onCopy(window.clipboardData),
          (i = !0);
      } catch (e) {
        s && console.error('unable to copy using clipboardData: ', e),
          s && console.error('falling back to prompt'),
          (o = 'message' in r ? r.message : 'Copy to clipboard: #{key}, Enter'),
          (a = (/mac os x/i.test(navigator.userAgent) ? 'âŒ˜' : 'Ctrl') + '+C'),
          (t = o.replace(/#{\s*key\s*}/g, a)),
          window.prompt(t, n);
      }
    } finally {
      u &&
        ('function' == typeof u.removeRange
          ? u.removeRange(l)
          : u.removeAllRanges()),
        e && document.body.removeChild(e),
        c();
    }
    return i;
  };
  function z(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  var W = (function () {
    function n(e) {
      a(this, n),
        (this.options = (function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = null != arguments[e] ? arguments[e] : {};
            e % 2
              ? z(Object(n), !0).forEach(function (e) {
                  l(t, e, n[e]);
                })
              : Object.getOwnPropertyDescriptors
              ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
              : z(Object(n)).forEach(function (e) {
                  Object.defineProperty(
                    t,
                    e,
                    Object.getOwnPropertyDescriptor(n, e),
                  );
                });
          }
          return t;
        })({}, e));
      var t = document.createElement('div');
      (t.dataset.testid = 'content'),
        (t.className = ['page-spy-content', e.className].join(' ')),
        (t.onclick = function (e) {
          e.stopPropagation();
        }),
        (this.el = t),
        this.render();
    }
    return (
      s(n, [
        {
          key: 'render',
          value: function () {
            var e = this.options,
              t = e.content,
              t = void 0 === t ? {} : t,
              n = e.onOk,
              e = t.name,
              r = void 0 === e ? '--' : e,
              e = t.address,
              o = void 0 === e ? '--' : e,
              a = t.clientOrigin,
              e = m(r.split(' '), 2),
              t = e[0],
              e = e[1],
              t =
                '\n      <p><b>Device ID:</b> <span style="font-family: \'Monaco\'">'
                  .concat(
                    o.slice(0, 4),
                    '</span></p>\n      <p><b>System:</b> ',
                  )
                  .concat(t, '</p>\n      <p><b>Browser:</b> ')
                  .concat(e, '</p>\n      '),
              e = document.createElement('div'),
              t =
                ((e.className = 'page-spy-content__info'),
                (e.innerHTML = t),
                document.createElement('div'));
            (t.dataset.testid = 'copy-button'),
              (t.className = 'page-spy-content__ok'),
              (t.textContent = 'Copy'),
              (t.onclick = function (e) {
                e.stopPropagation();
                e = ''
                  .concat(a, '/devtools?version=')
                  .concat(r, '&address=')
                  .concat(o);
                F(e) && (alert('Copy successfully!'), n) && n();
              }),
              this.el.append(e, t);
          },
        },
      ]),
      n
    );
  })();
  function H(e) {
    return (
      (function (e) {
        if (Array.isArray(e)) return p(e);
      })(e) ||
      (function (e) {
        if (
          ('undefined' != typeof Symbol && null != e[Symbol.iterator]) ||
          null != e['@@iterator']
        )
          return Array.from(e);
      })(e) ||
      U(e) ||
      (function () {
        throw new TypeError(
          'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
        );
      })()
    );
  }
  function f() {
    return Math.random().toString(36).slice(2);
  }
  function G(e) {
    return Object.keys(e);
  }
  function h(e) {
    return Object.prototype.toString.call(e);
  }
  function y(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t);
  }
  function A(e) {
    return '[object String]' === h(e);
  }
  function J(e) {
    return '[object Array]' === h(e);
  }
  function V(e) {
    return 'object' === he(e) && null !== e;
  }
  function Z(e) {
    return '[object BigInt]' === h(e);
  }
  function Y(e) {
    return !(!V(e) || '[object Object]' !== h(e));
  }
  function g(e) {
    return ''.concat(e);
  }
  function v(e) {
    return { ok: !0, value: e };
  }
  function b(e) {
    return void 0 !== e &&
      ('[object Number]' !== h(e) ||
        (e !== -1 / 0 && e !== 1 / 0 && !Number.isNaN(e)))
      ? Z(e)
        ? v(''.concat(e, 'n'))
        : 'symbol' === he(e) || 'function' == typeof e
        ? v(g(e.toString()))
        : e instanceof Error
        ? v(g(e.stack))
        : e === Object.prototype
        ? { value: null, ok: !1 }
        : e instanceof Object || e instanceof Array
        ? { value: e, ok: !1 }
        : v(e)
      : v(g(e));
  }
  var w = 'message',
    E = 'console';
  function X(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function k(e, t, n) {
    (n = !(2 < arguments.length && void 0 !== n) || n),
      (t = (function (t) {
        for (var e = 1; e < arguments.length; e++) {
          var n = null != arguments[e] ? arguments[e] : {};
          e % 2
            ? X(Object(n), !0).forEach(function (e) {
                l(t, e, n[e]);
              })
            : Object.getOwnPropertyDescriptors
            ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
            : X(Object(n)).forEach(function (e) {
                Object.defineProperty(
                  t,
                  e,
                  Object.getOwnPropertyDescriptor(n, e),
                );
              });
        }
        return t;
      })({}, t));
    return n && (t.id = f()), { role: 'client', type: e, data: t };
  }
  function K(e, t) {
    var n,
      r,
      o,
      a,
      i =
        ('undefined' != typeof Symbol && e[Symbol.iterator]) || e['@@iterator'];
    if (i)
      return (
        (r = !(n = !0)),
        {
          s: function () {
            i = i.call(e);
          },
          n: function () {
            var e = i.next();
            return (n = e.done), e;
          },
          e: function (e) {
            (r = !0), (o = e);
          },
          f: function () {
            try {
              n || null == i.return || i.return();
            } finally {
              if (r) throw o;
            }
          },
        }
      );
    if (
      Array.isArray(e) ||
      (i = (function (e, t) {
        var n;
        if (e)
          return 'string' == typeof e
            ? $(e, t)
            : 'Map' ===
                (n =
                  'Object' ===
                    (n = Object.prototype.toString.call(e).slice(8, -1)) &&
                  e.constructor
                    ? e.constructor.name
                    : n) || 'Set' === n
            ? Array.from(e)
            : 'Arguments' === n ||
              /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
            ? $(e, t)
            : void 0;
      })(e)) ||
      (t && e && 'number' == typeof e.length)
    )
      return (
        i && (e = i),
        (a = 0),
        {
          s: (t = function () {}),
          n: function () {
            return a >= e.length ? { done: !0 } : { done: !1, value: e[a++] };
          },
          e: function (e) {
            throw e;
          },
          f: t,
        }
      );
    throw new TypeError(
      'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
    );
  }
  function $(e, t) {
    (null == t || t > e.length) && (t = e.length);
    for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
    return r;
  }
  function ee(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function te(t) {
    for (var e = 1; e < arguments.length; e++) {
      var n = null != arguments[e] ? arguments[e] : {};
      e % 2
        ? ee(Object(n), !0).forEach(function (e) {
            l(t, e, n[e]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
        : ee(Object(n)).forEach(function (e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
          });
    }
    return t;
  }
  var x = new ((function () {
      function i() {
        a(this, i), l(this, 'store', {}), l(this, 'instanceStore', {});
      }
      return (
        s(
          i,
          [
            {
              key: 'transformToAtom',
              value: function (e) {
                var t = b(e),
                  n = t.value;
                return t.ok
                  ? {
                      id: f(),
                      type:
                        void 0 === (t = e)
                          ? 'undefined'
                          : null === t
                          ? 'null'
                          : Z(t)
                          ? 'bigint'
                          : t instanceof Object
                          ? t instanceof Error
                            ? 'error'
                            : t instanceof Function
                            ? 'function'
                            : 'object'
                          : he(t),
                      value: n,
                    }
                  : this.add(e);
              },
            },
            {
              key: 'add',
              value: function (e) {
                var t =
                    1 < arguments.length && void 0 !== arguments[1]
                      ? arguments[1]
                      : '',
                  n = f(),
                  r = n,
                  o =
                    (V((o = e)) &&
                      y(o, 'constructor') &&
                      'function' == typeof o.constructor &&
                      (r = t),
                    (this.store[n] = e),
                    (this.instanceStore[n] = r),
                    i.getSemanticValue(e));
                return i.getAtomOverview({
                  atomId: n,
                  value: o,
                  instanceId: r,
                });
              },
            },
            {
              key: 'get',
              value: function (e) {
                var n,
                  r,
                  o = this,
                  t = this.store[e],
                  a = this.instanceStore[e];
                return t
                  ? ((n = {}),
                    (r = Object.getOwnPropertyDescriptors(t)),
                    Object.keys(r).forEach(function (e) {
                      var t = r[e];
                      y(t, 'value') && (t.value = o.transformToAtom(t.value)),
                        (n[e] = i.getAtomOverview({
                          atomId: f(),
                          instanceId: a,
                          value: t,
                        }));
                    }),
                    (t = this.addExtraProperty(e)),
                    te(te({}, n), t))
                  : null;
              },
            },
            {
              key: 'getOrigin',
              value: function (e) {
                e = this.store[e];
                return e || null;
              },
            },
            {
              key: 'addExtraProperty',
              value: function (e) {
                var t,
                  n = this.store[e],
                  e = this.instanceStore[e],
                  r = {};
                if (
                  ((n instanceof String ||
                    n instanceof Number ||
                    n instanceof Boolean) &&
                    (r['[[PrimitiveValue]]'] = this.transformToAtom(
                      n.valueOf(),
                    )),
                  n instanceof Set)
                ) {
                  var o,
                    a = {},
                    i = 0,
                    s = K(n);
                  try {
                    for (s.s(); !(o = s.n()).done; ) {
                      var c = o.value;
                      a[i++] = c;
                    }
                  } catch (e) {
                    s.e(e);
                  } finally {
                    s.f();
                  }
                  (a.size = n.size),
                    (r['[[Entries]]'] = this.transformToAtom(a));
                }
                if (n instanceof Map) {
                  var l,
                    u = {},
                    d = 0,
                    p = K(n.entries());
                  try {
                    for (p.s(); !(l = p.n()).done; ) {
                      var f = m(l.value, 2),
                        h = f[0],
                        y = f[1];
                      u[d++] = { key: h, value: y };
                    }
                  } catch (e) {
                    p.e(e);
                  } finally {
                    p.f();
                  }
                  (u.size = n.size),
                    (r['[[Entries]]'] = this.transformToAtom(u));
                }
                return (
                  (J(n) ||
                    (t = n) instanceof NodeList ||
                    t instanceof HTMLCollection) &&
                    (r.length = this.transformToAtom(n.length)),
                  null !== Object.getPrototypeOf(n)
                    ? (r['[[Prototype]]'] = this.add(
                        Object.getPrototypeOf(n),
                        e,
                      ))
                    : (r.___proto___ = this.transformToAtom(null)),
                  r
                );
              },
            },
          ],
          [
            {
              key: 'getAtomOverview',
              value: function (e) {
                var t = e.instanceId,
                  t = void 0 === t ? '' : t,
                  n = e.atomId,
                  e = e.value;
                return {
                  id: f(),
                  type: 'atom',
                  __atomId: n,
                  instanceId: t,
                  value: e,
                };
              },
            },
            {
              key: 'getSemanticValue',
              value: function (e) {
                return Y(e)
                  ? 'Object {...}'
                  : J(e)
                  ? 'Array ('.concat(e.length, ')')
                  : e.constructor.name;
              },
            },
          ],
        ),
        i
      );
    })())(),
    O = 'page-spy-room',
    P = new ((function () {
      function e() {
        a(this, e),
          l(this, 'socket', null),
          l(this, 'socketUrl', ''),
          l(this, 'socketConnection', null),
          l(this, 'timer', null),
          l(this, 'reconnectTimes', 3),
          l(this, 'messages', []),
          l(this, 'reconnectable', !0),
          l(this, 'connectionStatus', !1),
          l(this, 'events', {
            refresh: [],
            debug: [],
            'atom-detail': [],
            'atom-getter': [],
            'debugger-online': [],
          }),
          this.addListener('debug', e.handleDebugger),
          this.addListener('atom-detail', e.handleResolveAtom),
          this.addListener('atom-getter', e.handleAtomPropertyGetter),
          this.addListener('debugger-online', this.handleFlushBuffer);
      }
      return (
        s(
          e,
          [
            {
              key: 'init',
              value: function (e) {
                var t = this;
                try {
                  if (!e)
                    throw Error('[PageSpy] WebSocket url cannot be empty');
                  (this.socket = new WebSocket(e)),
                    (this.socketUrl = e),
                    this.socket.addEventListener('open', function () {
                      t.connectOnline(), t.peelMessage();
                    }),
                    this.socket.addEventListener('close', function () {
                      t.connectOffline();
                    }),
                    this.socket.addEventListener('error', function () {
                      (t.reconnectTimes = 0),
                        (t.reconnectable = !1),
                        t.connectOffline();
                    });
                } catch (e) {
                  alert('[PageSpy] '.concat(e.message));
                }
              },
            },
            {
              key: 'connectOnline',
              value: function () {
                (this.connectionStatus = !0),
                  (this.reconnectTimes = 3),
                  this.pingConnect();
              },
            },
            {
              key: 'connectOffline',
              value: function () {
                (this.socket = null),
                  (this.connectionStatus = !1),
                  (this.socketConnection = null),
                  this.clearPing(),
                  this.reconnectable
                    ? this.tryReconnect()
                    : sessionStorage.setItem(O, JSON.stringify({ usable: !1 }));
              },
            },
            {
              key: 'tryReconnect',
              value: function () {
                0 < this.reconnectTimes
                  ? (--this.reconnectTimes, this.init(this.socketUrl))
                  : ((this.reconnectable = !1),
                    this.connectOffline(),
                    console.log('[PageSpy] Reconnect failed.'));
              },
            },
            {
              key: 'pingConnect',
              value: function () {
                var t = this;
                this.timer = window.setInterval(function () {
                  var e;
                  (null == (e = t.socket) ? void 0 : e.readyState) ===
                    WebSocket.OPEN && t.send({ type: 'ping', content: null });
                }, 1e4);
              },
            },
            {
              key: 'clearPing',
              value: function () {
                this.timer && window.clearInterval(this.timer);
              },
            },
            {
              key: 'peelMessage',
              value: function () {
                var i = this;
                this.socket &&
                  this.socket.addEventListener('message', function (e) {
                    var t,
                      n = JSON.parse(e.data);
                    switch (n.type) {
                      case 'connect':
                        var r = n.content.selfConnection;
                        i.socketConnection = r;
                        break;
                      case 'message':
                        var r = n.content,
                          o = r.data,
                          a = r.from,
                          r = r.to;
                        r.address ===
                          (null == (t = i.socketConnection)
                            ? void 0
                            : t.address) &&
                          i.dispatchEvent(o.type, {
                            source: o,
                            from: a,
                            to: r,
                          });
                        break;
                      case 'error':
                        (i.reconnectable = !1), i.connectOffline();
                    }
                  });
              },
            },
            {
              key: 'addListener',
              value: function (e, t) {
                this.events[e] || (this.events[e] = []), this.events[e].push(t);
              },
            },
            {
              key: 'dispatchEvent',
              value: function (e, t) {
                var n = this;
                this.events[e].forEach(function (e) {
                  e.call(n, t, function (e) {
                    n.unicastMessage(e, t.from);
                  });
                });
              },
            },
            {
              key: 'unicastMessage',
              value: function (e, t) {
                var n;
                (n = this.socketConnection),
                  this.send({ type: w, content: { data: e, from: n, to: t } });
              },
            },
            {
              key: 'broadcastMessage',
              value: function (e) {
                this.send(
                  { type: 'broadcast', content: { data: e } },
                  1 < arguments.length &&
                    void 0 !== arguments[1] &&
                    arguments[1],
                );
              },
            },
            {
              key: 'handleFlushBuffer',
              value: function (t) {
                var n = this,
                  r = t.source.data.latestId,
                  e = this.messages.findIndex(function (e) {
                    return e.content.data.data.id === r;
                  });
                this.messages.slice(e + 1).forEach(function (e) {
                  e = {
                    type: w,
                    content: {
                      data: e.content.data,
                      from: n.socketConnection,
                      to: t.from,
                    },
                  };
                  n.send(e, !0);
                });
              },
            },
            {
              key: 'send',
              value: function (e) {
                var t,
                  n,
                  r,
                  o,
                  a =
                    1 < arguments.length &&
                    void 0 !== arguments[1] &&
                    arguments[1];
                if (this.connectionStatus)
                  try {
                    null != (t = this.socket) &&
                      t.send(
                        ((r = (o = b((n = e))).ok),
                        (o = o.value),
                        r
                          ? o
                          : JSON.stringify(
                              n,
                              function (e, t) {
                                return b(t).value;
                              },
                              2,
                            )),
                      );
                  } catch (e) {
                    throw Error('Incompatible: '.concat(e.message));
                  }
                a || -1 < [w, 'ping'].indexOf(e.type) || this.messages.push(e);
              },
            },
            {
              key: 'close',
              value: function () {
                var e;
                this.clearPing(),
                  (this.reconnectTimes = 0),
                  (this.reconnectable = !1),
                  null != (e = this.socket) && e.close();
              },
            },
          ],
          [
            {
              key: 'handleDebugger',
              value: function (e, t) {
                var e = e.source,
                  n = e.type,
                  e = e.data;
                if ('debug' === n) {
                  t(
                    k(E, {
                      logType: 'debug-origin',
                      logs: [{ id: f(), type: 'debug-origin', value: e }],
                    }),
                  );
                  try {
                    var r = new Function('return '.concat(e))();
                    t(
                      k(E, {
                        logType: 'debug-eval',
                        logs: [x.transformToAtom(r)],
                      }),
                    );
                  } catch (e) {
                    t(
                      k(E, {
                        logType: 'error',
                        logs: [{ type: 'error', value: e.stack }],
                      }),
                    );
                  }
                }
              },
            },
            {
              key: 'handleResolveAtom',
              value: function (e, t) {
                var e = e.source,
                  n = e.type,
                  e = e.data;
                'atom-detail' === n &&
                  ((n = x.get(e) || {}), t(k('atom-detail-'.concat(e), n, !1)));
              },
            },
            {
              key: 'handleAtomPropertyGetter',
              value: function (e, t) {
                var n,
                  r,
                  o,
                  e = e.source,
                  a = e.type,
                  e = e.data;
                'atom-getter' === a &&
                  ((a = e.id),
                  (n = e.parentId),
                  (r = e.key),
                  (e = e.instanceId),
                  (e = x.getOrigin(e)),
                  (n = x.getOrigin(n)),
                  (o = {}),
                  (o =
                    e && n
                      ? null == (n = Object.getOwnPropertyDescriptor(n, r)) ||
                        null == (r = n.get)
                        ? void 0
                        : r.call(e)
                      : new Error('Getter computed failed')),
                  t(k('atom-getter-'.concat(a), x.transformToAtom(o))));
              },
            },
          ],
        ),
        e
      );
    })())();
  function ne(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function re(e, t) {
    var n = new FileReader();
    (n.onload = function (e) {
      t(null == (e = e.target) ? void 0 : e.result);
    }),
      (n.onerror = function () {
        t(new Error('blob2convert: can not convert'));
      }),
      n.readAsDataURL(e);
  }
  var oe = (function () {
      function e() {
        a(this, e), l(this, 'name', 'ConsolePlugin'), l(this, 'console', {});
      }
      return (
        s(e, [
          {
            key: 'onCreated',
            value: function () {
              var o = this;
              ['log', 'info', 'error', 'warn'].forEach(function (r) {
                (o.console[r] = window.console[r]),
                  (window.console[r] = function () {
                    for (
                      var e = arguments.length, t = new Array(e), n = 0;
                      n < e;
                      n++
                    )
                      t[n] = arguments[n];
                    o.printLog({
                      logType: r,
                      logs: t,
                      url: window.location.href,
                    });
                  });
              });
            },
          },
          {
            key: 'printLog',
            value: function (e) {
              var t;
              e.logs &&
                e.logs.length &&
                ((t = this.console)[e.logType].apply(t, H(e.logs)),
                (e.logs = e.logs.map(function (e) {
                  return x.transformToAtom(e);
                })),
                (t = k(
                  E,
                  (function (t) {
                    for (var e = 1; e < arguments.length; e++) {
                      var n = null != arguments[e] ? arguments[e] : {};
                      e % 2
                        ? ne(Object(n), !0).forEach(function (e) {
                            l(t, e, n[e]);
                          })
                        : Object.getOwnPropertyDescriptors
                        ? Object.defineProperties(
                            t,
                            Object.getOwnPropertyDescriptors(n),
                          )
                        : ne(Object(n)).forEach(function (e) {
                            Object.defineProperty(
                              t,
                              e,
                              Object.getOwnPropertyDescriptor(n, e),
                            );
                          });
                    }
                    return t;
                  })({ time: Date.now() }, e),
                )),
                P.broadcastMessage(t));
            },
          },
        ]),
        e
      );
    })(),
    ae = (function () {
      function o() {
        a(this, o), l(this, 'name', 'ErrorPlugin'), l(this, 'error', null);
      }
      return (
        s(
          o,
          [
            {
              key: 'onCreated',
              value: function () {
                var r = this;
                (this.error = window.onerror),
                  (window.onerror = function () {
                    for (
                      var e = arguments.length, t = new Array(e), n = 0;
                      n < e;
                      n++
                    )
                      t[n] = arguments[n];
                    o.sendMessage(t[4]), r.error && r.error.apply(window, t);
                  }),
                  window.addEventListener(
                    'error',
                    function (e) {
                      e instanceof ErrorEvent ||
                        o.sendMessage(
                          'Resource Load Error: Cannot load resource of ('.concat(
                            e.target.src,
                            ')',
                          ),
                        );
                    },
                    !0,
                  ),
                  window.addEventListener('unhandledrejection', function (e) {
                    o.sendMessage(e.reason);
                  });
              },
            },
          ],
          [
            {
              key: 'sendMessage',
              value: function (e) {
                e = k(E, {
                  logType: 'error',
                  logs: [x.transformToAtom(e)],
                  time: Date.now(),
                  url: window.location.href,
                });
                P.broadcastMessage(e);
              },
            },
          ],
        ),
        o
      );
    })(),
    T = s(function e(t) {
      a(this, e),
        l(this, 'id', ''),
        l(this, 'name', ''),
        l(this, 'method', ''),
        l(this, 'url', ''),
        l(this, 'requestType', 'xhr'),
        l(this, 'requestHeader', null),
        l(this, 'status', 0),
        l(this, 'statusText', ''),
        l(this, 'readyState', 0),
        l(this, 'responseReason', null),
        l(this, 'responseType', ''),
        l(this, 'responseHeader', null),
        l(this, 'startTime', 0),
        l(this, 'endTime', 0),
        l(this, 'costTime', 0),
        l(this, 'getData', null),
        l(this, 'postData', null),
        l(this, 'withCredentials', !1),
        (this.id = t);
    });
  function ie(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function j(e) {
    return (e = e.startsWith('//')
      ? window.location.protocol + e
      : e).startsWith('http')
      ? new URL(e)
      : new URL(e, window.location.href);
  }
  var se = 'Exceed maximum limit',
    ce = (function () {
      function d() {
        a(this, d),
          l(this, 'name', 'NetworkPlugin'),
          l(this, 'xhrOpen', null),
          l(this, 'xhrSend', null),
          l(this, 'xhrSetRequestHeader', null),
          l(this, 'fetch', null),
          l(this, 'sendBeacon', null),
          l(this, 'reqList', {});
      }
      return (
        s(
          d,
          [
            {
              key: 'onCreated',
              value: function () {
                this.xhrProxy(), this.fetchProxy(), this.sendBeaconProxy();
              },
            },
            {
              key: 'xhrProxy',
              value: function () {
                var e,
                  d,
                  i,
                  r,
                  p = this;
                window.XMLHttpRequest &&
                  ((e = window.XMLHttpRequest.prototype),
                  (d = e.open),
                  (i = e.send),
                  (r = e.setRequestHeader),
                  (this.xhrOpen = d),
                  (this.xhrSend = i),
                  (this.xhrSetRequestHeader = r),
                  (window.XMLHttpRequest.prototype.open = function () {
                    for (
                      var s = this,
                        e = arguments.length,
                        t = new Array(e),
                        n = 0;
                      n < e;
                      n++
                    )
                      t[n] = arguments[n];
                    function r() {
                      p.reqList[c] || (p.reqList[c] = new T(c));
                      var n = p.reqList[c];
                      n.readyState = s.readyState;
                      var e,
                        t,
                        r = (s.getAllResponseHeaders() || '')
                          .trim()
                          .split(/[\r\n]+/);
                      switch (s.readyState) {
                        case 0:
                        case 1:
                          (n.status = s.status),
                            (n.statusText = 'Pending'),
                            n.startTime || (n.startTime = Date.now());
                          break;
                        case 2:
                          (n.status = s.status),
                            (n.statusText = 'Loading'),
                            (n.responseHeader = {}),
                            r.forEach(function (e) {
                              var e = e.split(': '),
                                t = e.shift(),
                                e = e.join(': ');
                              n.responseHeader[t] = e;
                            });
                          break;
                        case 3:
                          (n.status = s.status), (n.statusText = 'Loading');
                          break;
                        case 4:
                          clearInterval(l),
                            (n.status = s.status),
                            (n.statusText = 'Done'),
                            (n.endTime = Date.now()),
                            (n.costTime =
                              n.endTime - (n.startTime || n.endTime)),
                            (n.response = s.response);
                          break;
                        default:
                          clearInterval(l),
                            (n.status = s.status),
                            (n.statusText = 'Unknown');
                      }
                      switch (s.responseType) {
                        case '':
                        case 'text':
                          if (A(s.response))
                            try {
                              n.response = JSON.parse(s.response);
                            } catch (e) {
                              n.response = s.response;
                            }
                          else
                            void 0 !== s.response &&
                              (n.response = h(s.response));
                          break;
                        case 'json':
                          void 0 !== s.response &&
                            (n.response = JSON.stringify(s.response, null, 2));
                          break;
                        case 'blob':
                        case 'arraybuffer':
                          s.response &&
                            ((t = s.response),
                            '[object ArrayBuffer]' === h(t) &&
                              ((e = n.responseHeader['content-type']),
                              (t = new Blob([t], { type: e }))),
                            '[object Blob]' === h(t)) &&
                            (t.size <= 6291456
                              ? re(t, function (e) {
                                  A(e) &&
                                    ((n.response = e),
                                    p.collectRequest(s.pageSpyRequestId, n));
                                })
                              : ((n.response = '[object '.concat(
                                  s.responseType,
                                  ']',
                                )),
                                (n.responseReason = se)));
                          break;
                        default:
                          void 0 !== s.response &&
                            (n.response = Object.prototype.toString.call(
                              s.response,
                            ));
                      }
                      p.collectRequest(s.pageSpyRequestId, n);
                      for (
                        var o = arguments.length, a = new Array(o), i = 0;
                        i < o;
                        i++
                      )
                        a[i] = arguments[i];
                      return u.apply(s, a);
                    }
                    var o = t[0],
                      a = t[1],
                      c = f(),
                      l = null,
                      u =
                        ((this.pageSpyRequestId = c),
                        (this.pageSpyRequestMethod = o),
                        (this.pageSpyRequestUrl = a),
                        this.onreadystatechange || function () {}),
                      i = ((s.onreadystatechange = r), -1),
                      l = window.setInterval(function () {
                        i != s.readyState && ((i = s.readyState), r.call(s));
                      }, 10);
                    return d.apply(s, t);
                  }),
                  (window.XMLHttpRequest.prototype.setRequestHeader = function (
                    e,
                    t,
                  ) {
                    var n = p.reqList[this.pageSpyRequestId];
                    return (
                      n &&
                        (n.requestHeader || (n.requestHeader = {}),
                        (n.requestHeader[e] = t)),
                      r.apply(this, [e, t])
                    );
                  }),
                  (window.XMLHttpRequest.prototype.send = function (t) {
                    var e = this,
                      n = e.pageSpyRequestId,
                      n = void 0 === n ? f() : n,
                      r = e.pageSpyRequestMethod,
                      r = void 0 === r ? 'GET' : r,
                      o = e.pageSpyRequestUrl,
                      o = void 0 === o ? '' : o,
                      a = p.reqList[n] || new T(n),
                      n = o.split('?') || [];
                    if (
                      ((a.method = r.toUpperCase()),
                      (a.url = o),
                      (a.name = n.shift() || ''),
                      (a.name =
                        a.name.replace(/[/]*$/, '').split('/').pop() || ''),
                      (a.requestType = 'xhr'),
                      (a.responseType = e.responseType),
                      (a.withCredentials = e.withCredentials),
                      0 < n.length &&
                        ((a.name += '?'.concat(n)),
                        (a.getData = {}),
                        n
                          .join('?')
                          .split('&')
                          .forEach(function (e) {
                            var e = m(e.split('='), 2),
                              t = e[0],
                              e = e[1];
                            a.getData[t] = decodeURIComponent(e);
                          })),
                      t && 'POST' === a.method)
                    )
                      if (A(t))
                        try {
                          a.postData = JSON.parse(t);
                        } catch (e) {
                          a.postData = t;
                        }
                      else
                        Y(t)
                          ? (a.postData = t)
                          : (a.postData = '[object Object]');
                    return i.apply(e, [t]);
                  }));
              },
            },
            {
              key: 'fetchProxy',
              value: function () {
                var l = this,
                  u = window.fetch;
                u &&
                  ((this.fetch = u),
                  (window.fetch = function (e) {
                    var t,
                      n,
                      r =
                        1 < arguments.length && void 0 !== arguments[1]
                          ? arguments[1]
                          : {},
                      o = f(),
                      a = ((l.reqList[o] = new T(o)), l.reqList[o]),
                      i = 'GET',
                      s = A(e)
                        ? ((i = r.method || 'GET'),
                          (t = j(e)),
                          (null == r ? void 0 : r.headers) || null)
                        : ((i = e.method || 'GET'), (t = j(e.url)), e.headers),
                      c = t.href.split('?') || [],
                      c =
                        ((a.name = c.shift() || ''),
                        (a.name =
                          a.name.replace(/[/]*$/, '').split('/').pop() || ''),
                        (a.method = i.toUpperCase()),
                        (a.url = t.toString()),
                        (a.requestType = 'fetch'),
                        (a.status = 0),
                        (a.statusText = 'Pending'),
                        (a.startTime = Date.now()),
                        r.credentials &&
                          'omit' !== r.credentials &&
                          (a.withCredentials = !0),
                        s instanceof Headers
                          ? ((a.requestHeader = {}),
                            s.forEach(function (e, t) {
                              a.requestHeader[t] = e;
                            }))
                          : (a.requestHeader = s),
                        t.search &&
                          ((a.name += t.search),
                          (a.getData = {}),
                          t.searchParams.forEach(function (e, t) {
                            a.getData[t] = e;
                          })),
                        'POST' === a.method &&
                          (A(e)
                            ? (a.postData = d.getFormattedBody(
                                null == r ? void 0 : r.body,
                              ))
                            : (a.postData = '[object Object]')),
                        A(e) ? t.toString() : e);
                    return (
                      l.collectRequest(o, a),
                      u(c, r)
                        .then(function (e) {
                          (n = e),
                            (a.endTime = Date.now()),
                            (a.costTime =
                              a.endTime - (a.startTime || a.endTime)),
                            (a.status = e.status || 200),
                            (a.statusText = e.statusText || 'Done'),
                            (a.responseHeader = {}),
                            e.headers.forEach(function (e, t) {
                              a.responseHeader[t] = e;
                            });
                          var t = e.headers.get('content-type');
                          if (t) {
                            if (t.includes('application/json'))
                              return (
                                (a.responseType = 'json'), e.clone().text()
                              );
                            if (
                              t.includes('text/html') ||
                              t.includes('text/plain')
                            )
                              return (
                                (a.responseType = 'text'), e.clone().text()
                              );
                          }
                          return (a.responseType = 'blob'), e.clone().blob();
                        })
                        .then(function (t) {
                          switch (a.responseType) {
                            case 'text':
                            case 'json':
                              try {
                                a.response = JSON.parse(t);
                              } catch (e) {
                                (a.response = t), (a.responseType = 'text');
                              }
                              break;
                            case 'blob':
                              t.size <= 6291456
                                ? re(t, function (e) {
                                    A(e) &&
                                      ((a.response = e),
                                      l.collectRequest(o, a));
                                  })
                                : ((a.response = '[object Blob]'),
                                  (a.responseReason = se));
                              break;
                            default:
                              a.response = t;
                          }
                          return n;
                        })
                        .finally(function () {
                          (n = null),
                            (a.readyState = 4),
                            l.collectRequest(o, a);
                        })
                    );
                  }));
              },
            },
            {
              key: 'sendBeaconProxy',
              value: function () {
                var i,
                  s = window.navigator.sendBeacon;
                s &&
                  (((i = this).sendBeacon = s),
                  (window.navigator.sendBeacon = function (e, t) {
                    var n = f(),
                      r = new T(n),
                      o = ((i.reqList[n] = r), j(e)),
                      a =
                        ((r.name = o.href.split('/').pop() || ''),
                        (r.method = 'POST'),
                        (r.url = e.toString()),
                        (r.status = 0),
                        (r.statusText = 'Pending'),
                        (r.requestType = 'ping'),
                        (r.requestHeader = {
                          'Content-Type':
                            (a = t) instanceof Blob
                              ? a.type
                              : a instanceof FormData
                              ? 'multipart/form-data'
                              : a instanceof URLSearchParams
                              ? 'application/x-www-form-urlencoded;charset=UTF-8'
                              : 'text/plain;charset=UTF-8',
                        }),
                        (r.startTime = Date.now()),
                        (r.postData = d.getFormattedBody(t)),
                        (r.response = ''),
                        o.search &&
                          ((r.getData = {}),
                          o.searchParams.forEach(function (e, t) {
                            r.getData[t] = e;
                          })),
                        s.call(window.navigator, e, t));
                    return (
                      a
                        ? ((r.status = 200),
                          (r.statusText = 'Sent'),
                          (r.endTime = Date.now()),
                          (r.costTime = r.endTime - (r.startTime || r.endTime)),
                          (r.readyState = 4))
                        : ((r.status = 500), (r.statusText = 'Unknown')),
                      i.collectRequest(n, r),
                      a
                    );
                  }));
              },
            },
            {
              key: 'collectRequest',
              value: function (e, t) {
                this.reqList[e] || (this.reqList[e] = t);
                e = k(
                  'network',
                  (function (t) {
                    for (var e = 1; e < arguments.length; e++) {
                      var n = null != arguments[e] ? arguments[e] : {};
                      e % 2
                        ? ie(Object(n), !0).forEach(function (e) {
                            l(t, e, n[e]);
                          })
                        : Object.getOwnPropertyDescriptors
                        ? Object.defineProperties(
                            t,
                            Object.getOwnPropertyDescriptors(n),
                          )
                        : ie(Object(n)).forEach(function (e) {
                            Object.defineProperty(
                              t,
                              e,
                              Object.getOwnPropertyDescriptor(n, e),
                            );
                          });
                    }
                    return t;
                  })({}, t),
                  !1,
                );
                P.broadcastMessage(e);
              },
            },
          ],
          [
            {
              key: 'getFormattedBody',
              value: function (t) {
                if (!t) return null;
                var n = '',
                  e = h(t).replace(/\[object (.*)\]/, '$1');
                switch (e) {
                  case 'String':
                    try {
                      n = JSON.parse(t);
                    } catch (e) {
                      n = t;
                    }
                    break;
                  case 'URLSearchParams':
                    (n = {}),
                      t.forEach(function (e, t) {
                        n[t] = e;
                      });
                    break;
                  default:
                    n = '[object '.concat(e, ']');
                }
                return n;
              },
            },
          ],
        ),
        d
      );
    })(),
    B = {
      WeChat: /MicroMessenger\/([\d.]+)/,
      QQ: /(?:QQBrowser|MQQBrowser|QQ)\/([\d.]+)/,
      UC: /(?:UCBrowser|UCBS)\/([\d.]+)/,
      Baidu: /(?:BIDUBrowser|baiduboxapp)[/]?([\d.]*)/,
      Edge: /Edg(?:e|A|iOS)?\/([\d.]+)/,
      Chrome: /(?:Chrome|CriOS)\/([\d.]+)/,
      Firefox: /(?:Firefox|FxiOS)\/([\d.]+)/,
      Safari: /Version\/([\d.]+).*Safari/,
    },
    C = {
      Windows: /Windows NT ([\d_.]+)/,
      iPhone: /iPhone OS ([\d_.]+)/,
      iPad: /iPad.*OS ([\d_.]+)/,
      Mac: /Mac OS X ([\d_.]+)/,
      Android: /Android ([\d_.]+)/,
      Linux: /Linux/,
    };
  function le(e) {
    var t,
      n,
      r = 0 < arguments.length && void 0 !== e ? e : window.navigator.userAgent,
      o = 'Unknown',
      a = 'Unknown',
      i = 'Unknown',
      s = 'Unknown';
    for (t in C)
      if (Object.prototype.hasOwnProperty.call(C, t)) {
        var c = r.match(C[t]);
        if (c) {
          (o = t), (a = null == (c = c[1]) ? void 0 : c.replaceAll('_', '.'));
          break;
        }
      }
    for (n in B)
      if (Object.prototype.hasOwnProperty.call(B, n)) {
        var l = r.match(B[n]);
        if (l) {
          (i = n), (s = l[1]);
          break;
        }
      }
    return { osName: o, osVersion: a, browserName: i, browserVersion: s };
  }
  var ye,
    ue = {},
    de =
      ((ye = {
        get exports() {
          return ue;
        },
        set exports(e) {
          ue = e;
        },
      }),
      (function (Q, p, u, f) {
        function h(e, t) {
          return he(e) === t;
        }
        function I(e) {
          var t,
            n = v.className,
            r = g._config.classPrefix || '';
          b && (n = n.baseVal),
            g._config.enableJSClass &&
              ((t = new RegExp('(^|\\s)' + r + 'no-js(\\s|$)')),
              (n = n.replace(t, '$1' + r + 'js$2'))),
            g._config.enableClasses &&
              (0 < e.length && (n += ' ' + r + e.join(' ' + r)),
              b ? (v.className.baseVal = n) : (v.className = n));
        }
        function d(e, t) {
          if ('object' == he(e)) for (var n in e) z(e, n) && d(n, e[n]);
          else {
            var r = (e = e.toLowerCase()).split('.'),
              o = g[r[0]];
            if (void 0 !== (o = 2 === r.length ? o[r[1]] : o)) return g;
            (t = 'function' == typeof t ? t() : t),
              1 === r.length
                ? (g[r[0]] = t)
                : (!g[r[0]] ||
                    g[r[0]] instanceof Boolean ||
                    (g[r[0]] = new Boolean(g[r[0]])),
                  (g[r[0]][r[1]] = t)),
              I([(t && !1 !== t ? '' : 'no-') + r.join('-')]),
              g._trigger(e, t);
          }
          return g;
        }
        function y(e) {
          return 'function' != typeof u.createElement
            ? u.createElement(e)
            : b
            ? u.createElementNS.call(u, 'http://www.w3.org/2000/svg', e)
            : u.createElement.apply(u, arguments);
        }
        function m(e, t, n, r) {
          var o,
            a,
            i,
            s,
            c = 'modernizr',
            l = y('div');
          (s = u.body) || ((s = y(b ? 'svg' : 'body')).fake = !0);
          if (parseInt(n, 10))
            for (; n--; )
              ((a = y('div')).id = r ? r[n] : c + (n + 1)), l.appendChild(a);
          return (
            ((o = y('style')).type = 'text/css'),
            (o.id = 's' + c),
            (s.fake ? s : l).appendChild(o),
            s.appendChild(l),
            o.styleSheet
              ? (o.styleSheet.cssText = e)
              : o.appendChild(u.createTextNode(e)),
            (l.id = c),
            s.fake &&
              ((s.style.background = ''),
              (s.style.overflow = 'hidden'),
              (i = v.style.overflow),
              (v.style.overflow = 'hidden'),
              v.appendChild(s)),
            (o = t(l, e)),
            s.fake && s.parentNode
              ? (s.parentNode.removeChild(s),
                (v.style.overflow = i),
                v.offsetHeight)
              : l.parentNode.removeChild(l),
            !!o
          );
        }
        function _(e, t, n) {
          var r, o;
          return (
            'getComputedStyle' in p
              ? ((r = getComputedStyle.call(p, e, t)),
                (o = p.console),
                null !== r
                  ? n && (r = r.getPropertyValue(n))
                  : o &&
                    o[o.error ? 'error' : 'log'].call(
                      o,
                      'getComputedStyle returning null, its possible modernizr test results are inaccurate',
                    ))
              : (r = !t && e.currentStyle && e.currentStyle[n]),
            r
          );
        }
        function A(e) {
          return e
            .replace(/([A-Z])/g, function (e, t) {
              return '-' + t.toLowerCase();
            })
            .replace(/^ms-/, '-ms-');
        }
        function U(e) {
          return e
            .replace(/([a-z])-([a-z])/g, function (e, t, n) {
              return t + n.toUpperCase();
            })
            .replace(/^-/, '');
        }
        function N(e, t, n, r) {
          function o() {
            i && (delete P.style, delete P.modElem);
          }
          if (((r = !h(r, 'undefined') && r), !h(n, 'undefined'))) {
            var a = (function (e, t) {
              var n = e.length;
              if ('CSS' in p && 'supports' in p.CSS) {
                for (; n--; ) if (p.CSS.supports(A(e[n]), t)) return !0;
                return !1;
              }
              if ('CSSSupportsRule' in p) {
                for (var r = []; n--; ) r.push('(' + A(e[n]) + ':' + t + ')');
                return m(
                  '@supports (' +
                    (r = r.join(' or ')) +
                    ') { #modernizr { position: absolute; } }',
                  function (e) {
                    return 'absolute' === _(e, null, 'position');
                  },
                );
              }
              return f;
            })(e, n);
            if (!h(a, 'undefined')) return a;
          }
          for (
            var i, s, c, l, u, d = ['modernizr', 'tspan', 'samp'];
            !P.style && d.length;

          )
            (i = !0), (P.modElem = y(d.shift())), (P.style = P.modElem.style);
          for (c = e.length, s = 0; s < c; s++)
            if (
              ((l = e[s]),
              (u = P.style[l]),
              ~('' + l).indexOf('-') && (l = U(l)),
              P.style[l] !== f)
            ) {
              if (r || h(n, 'undefined')) return o(), 'pfx' !== t || l;
              try {
                P.style[l] = n;
              } catch (e) {}
              if (P.style[l] !== u) return o(), 'pfx' !== t || l;
            }
          return o(), !1;
        }
        function r(e, t, n, r, o) {
          var a,
            i,
            s = e.charAt(0).toUpperCase() + e.slice(1),
            c = (e + ' ' + G.join(s + ' ') + s).split(' ');
          if (h(t, 'string') || h(t, 'undefined')) return N(c, t, r, o);
          var l = (e + ' ' + w.join(s + ' ') + s).split(' '),
            u = t,
            d = n;
          for (i in l)
            if (l[i] in u)
              if (!1 === d) return l[i];
              else {
                a = u[l[i]];
                if (h(a, 'function')) {
                  var p = a;
                  var f = d || u;
                  return function () {
                    return p.apply(f, arguments);
                  };
                  return;
                } else return a;
              }
          return !1;
        }
        function q(e, t) {
          e = e.deleteDatabase(t);
          (e.onsuccess = function () {
            d('indexeddb.deletedatabase', !0);
          }),
            (e.onerror = function () {
              d('indexeddb.deletedatabase', !1);
            });
        }
        function F(e) {
          var t,
            n = ue.length,
            r = p.CSSRule;
          if (void 0 === r) return f;
          if (e) {
            if (
              (t =
                (e = e.replace(/^@/, '')).replace(/-/g, '_').toUpperCase() +
                '_RULE') in r
            )
              return '@' + e;
            for (var o = 0; o < n; o++) {
              var a = ue[o];
              if (a.toUpperCase() + '_' + t in r)
                return '@-' + a.toLowerCase() + '-' + e;
            }
          }
          return !1;
        }
        var z,
          n,
          W,
          o = [],
          e = {
            _version: '4.0.0-alpha',
            _config: {
              classPrefix: '',
              enableClasses: !1,
              enableJSClass: !0,
              usePrefixes: !0,
            },
            _q: [],
            on: function (e, t) {
              var n = this;
              setTimeout(function () {
                t(n[e]);
              }, 0);
            },
            addTest: function (e, t, n) {
              o.push({ name: e, fn: t, options: n });
            },
            addAsyncTest: function (e) {
              o.push({ name: null, fn: e });
            },
          },
          g = function () {},
          H = ((g.prototype = e), (g = new g()), []),
          v = u.documentElement,
          b = 'svg' === v.nodeName.toLowerCase(),
          t =
            ((z =
              h((n = {}.hasOwnProperty), 'undefined') || h(n.call, 'undefined')
                ? function (e, t) {
                    return t in e && h(e.constructor.prototype[t], 'undefined');
                  }
                : function (e, t) {
                    return n.call(e, t);
                  }),
            (e._l = {}),
            (e.on = function (e, t) {
              this._l[e] || (this._l[e] = []),
                this._l[e].push(t),
                g.hasOwnProperty(e) &&
                  setTimeout(function () {
                    g._trigger(e, g[e]);
                  }, 0);
            }),
            (e._trigger = function (e, t) {
              var n;
              this._l[e] &&
                ((n = this._l[e]),
                setTimeout(function () {
                  for (var e = 0; e < n.length; e++) (0, n[e])(t);
                }, 0),
                delete this._l[e]);
            }),
            g._q.push(function () {
              e.addTest = d;
            }),
            'Moz O ms Webkit'),
          G = e._config.usePrefixes ? t.split(' ') : [],
          w =
            ((e._cssomPrefixes = G),
            (e.atRule = F),
            e._config.usePrefixes ? t.toLowerCase().split(' ') : []),
          a =
            ((e._domPrefixes = w),
            (W = !('onblur' in v)),
            function (e, t) {
              var n;
              return (
                !!e &&
                (!(n =
                  (e = 'on' + e) in
                  (t = t && 'string' != typeof t ? t : y(t || 'div'))) &&
                  W &&
                  ((t = t.setAttribute ? t : y('div')).setAttribute(e, ''),
                  (n = 'function' == typeof t[e]),
                  t[e] !== f && (t[e] = f),
                  t.removeAttribute(e)),
                n)
              );
            });
        if (((e.hasEvent = a), !b)) {
          var i = u;
          function J(e, t) {
            var n = e.createElement('p'),
              e = e.getElementsByTagName('head')[0] || e.documentElement;
            return (
              (n.innerHTML = 'x<style>' + t + '</style>'),
              e.insertBefore(n.lastChild, e.firstChild)
            );
          }
          function E() {
            var e = x.elements;
            return 'string' == typeof e ? e.split(' ') : e;
          }
          function k(e) {
            var t = re[e[te]];
            return t || ((t = {}), ne++, (e[te] = ne), (re[ne] = t)), t;
          }
          function V(e, t, n) {
            return (
              (t = t || i),
              s
                ? t.createElement(e)
                : !(t = (n = n || k(t)).cache[e]
                    ? n.cache[e].cloneNode()
                    : ee.test(e)
                    ? (n.cache[e] = n.createElem(e)).cloneNode()
                    : n.createElem(e)).canHaveChildren ||
                  $.test(e) ||
                  t.tagUrn
                ? t
                : n.frag.appendChild(t)
            );
          }
          function Z(e) {
            var t,
              n,
              r = k((e = e || i));
            return (
              !x.shivCSS ||
                K ||
                r.hasCSS ||
                (r.hasCSS = !!J(
                  e,
                  'article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}',
                )),
              s ||
                ((t = e),
                (n = r).cache ||
                  ((n.cache = {}),
                  (n.createElem = t.createElement),
                  (n.createFrag = t.createDocumentFragment),
                  (n.frag = n.createFrag())),
                (t.createElement = function (e) {
                  return x.shivMethods ? V(e, t, n) : n.createElem(e);
                }),
                (t.createDocumentFragment = Function(
                  'h,f',
                  'return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&(' +
                    E()
                      .join()
                      .replace(/[\w\-:]+/g, function (e) {
                        return (
                          n.createElem(e),
                          n.frag.createElement(e),
                          'c("' + e + '")'
                        );
                      }) +
                    ');return n}',
                )(x, n.frag))),
              e
            );
          }
          function Y(e) {
            for (
              var t,
                n = e.getElementsByTagName('*'),
                r = n.length,
                o = RegExp('^(?:' + E().join('|') + ')$', 'i'),
                a = [];
              r--;

            )
              (t = n[r]),
                o.test(t.nodeName) &&
                  a.push(
                    t.applyElement(
                      (function (e) {
                        for (
                          var t,
                            n = e.attributes,
                            r = n.length,
                            o = e.ownerDocument.createElement(
                              O + ':' + e.nodeName,
                            );
                          r--;

                        )
                          (t = n[r]).specified &&
                            o.setAttribute(t.nodeName, t.nodeValue);
                        return (o.style.cssText = e.style.cssText), o;
                      })(t),
                    ),
                  );
            return a;
          }
          function X(s) {
            function c() {
              clearTimeout(n._removeSheetTimer),
                l && l.removeNode(!0),
                (l = null);
            }
            var l,
              u,
              n = k(s),
              e = s.namespaces,
              t = s.parentWindow;
            return (
              !ae ||
                s.printShived ||
                (void 0 === e[O] && e.add(O),
                t.attachEvent('onbeforeprint', function () {
                  c();
                  for (
                    var e,
                      t,
                      n,
                      r = s.styleSheets,
                      o = [],
                      a = r.length,
                      i = Array(a);
                    a--;

                  )
                    i[a] = r[a];
                  for (; (n = i.pop()); )
                    if (!n.disabled && oe.test(n.media)) {
                      try {
                        t = (e = n.imports).length;
                      } catch (e) {
                        t = 0;
                      }
                      for (a = 0; a < t; a++) i.push(e[a]);
                      try {
                        o.push(n.cssText);
                      } catch (e) {}
                    }
                  (o = (function (e) {
                    for (
                      var t,
                        n = e.split('{'),
                        r = n.length,
                        o = RegExp(
                          '(^|[\\s,>+~])(' +
                            E().join('|') +
                            ')(?=[[\\s,>+~#.:]|$)',
                          'gi',
                        ),
                        a = '$1' + O + '\\:$2';
                      r--;

                    )
                      ((t = n[r] = n[r].split('}'))[t.length - 1] = t[
                        t.length - 1
                      ].replace(o, a)),
                        (n[r] = t.join('}'));
                    return n.join('{');
                  })(o.reverse().join(''))),
                    (u = Y(s)),
                    (l = J(s, o));
                }),
                t.attachEvent('onafterprint', function () {
                  for (var e = u, t = e.length; t--; ) e[t].removeNode();
                  clearTimeout(n._removeSheetTimer),
                    (n._removeSheetTimer = setTimeout(c, 500));
                }),
                (s.printShived = !0)),
              s
            );
          }
          var K,
            s,
            c = (t = void 0 !== p ? p : this).html5 || {},
            $ =
              /^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,
            ee =
              /^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,
            te = '_html5shiv',
            ne = 0,
            re = {};
          try {
            var l = i.createElement('a');
            (l.innerHTML = '<xyz></xyz>'),
              (K = 'hidden' in l),
              (s =
                1 == l.childNodes.length ||
                (i.createElement('a'),
                void 0 === (S = i.createDocumentFragment()).cloneNode) ||
                void 0 === S.createDocumentFragment ||
                void 0 === S.createElement);
          } catch (l) {
            s = K = !0;
          }
          var S,
            x = {
              elements:
                c.elements ||
                'abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video',
              version: '3.7.3',
              shivCSS: !1 !== c.shivCSS,
              supportsUnknownElements: s,
              shivMethods: !1 !== c.shivMethods,
              type: 'default',
              shivDocument: Z,
              createElement: V,
              createDocumentFragment: function (e, t) {
                if (((e = e || i), s)) return e.createDocumentFragment();
                for (
                  var n = (t = t || k(e)).frag.cloneNode(),
                    r = 0,
                    o = E(),
                    a = o.length;
                  r < a;
                  r++
                )
                  n.createElement(o[r]);
                return n;
              },
              addElements: function (e, t) {
                var n = x.elements;
                'string' != typeof n && (n = n.join(' ')),
                  'string' != typeof e && (e = e.join(' ')),
                  (x.elements = n + ' ' + e),
                  Z(t);
              },
            },
            oe = ((t.html5 = x), Z(i), /^$|\b(?:all|print)\b/),
            O = 'html5shiv',
            ae = !(
              s ||
              ((S = i.documentElement), void 0 === i.namespaces) ||
              void 0 === i.parentWindow ||
              void 0 === S.applyElement ||
              void 0 === S.removeNode ||
              void 0 === t.attachEvent
            );
          (x.type += ' print'),
            (x.shivPrint = X)(i),
            ye.exports && (ye.exports = x);
        }
        var ie,
          se = function () {},
          ce = function () {},
          c =
            (p.console &&
              ((se = function () {
                var e = console.error ? 'error' : 'log';
                p.console[e].apply(
                  p.console,
                  Array.prototype.slice.call(arguments),
                );
              }),
              (ce = function () {
                var e = console.warn ? 'warn' : 'log';
                p.console[e].apply(
                  p.console,
                  Array.prototype.slice.call(arguments),
                );
              })),
            (e.load = function () {
              'yepnope' in p
                ? (ce(
                    'yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so weâ€™ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information.',
                  ),
                  p.yepnope.apply(p, [].slice.call(arguments, 0)))
                : se(
                    'yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.',
                  );
            }),
            (ie = p.matchMedia || p.msMatchMedia)
              ? function (e) {
                  e = ie(e);
                  return (e && e.matches) || !1;
                }
              : function (e) {
                  var t = !1;
                  return (
                    m(
                      '@media ' + e + ' { #modernizr { position: absolute; } }',
                      function (e) {
                        t = 'absolute' === _(e, null, 'position');
                      },
                    ),
                    t
                  );
                }),
          le = ((e.mq = c), { elem: y('modernizr') }),
          P =
            (g._q.push(function () {
              delete le.elem;
            }),
            { style: le.elem.style }),
          T =
            (g._q.unshift(function () {
              delete P.style;
            }),
            (e.testAllProps = r),
            (e.prefixed = function (e, t, n) {
              return 0 === e.indexOf('@')
                ? F(e)
                : (-1 !== e.indexOf('-') && (e = U(e)),
                  t ? r(e, t, n) : r(e, 'pfx'));
            })),
          ue = e._config.usePrefixes
            ? ' -webkit- -moz- -o- -ms- '.split(' ')
            : ['', ''],
          j =
            ((e._prefixes = ue),
            (e.prefixedCSS = function (e) {
              e = T(e);
              return e && A(e);
            }),
            (e.testAllProps = function (e, t, n) {
              return r(e, f, f, t, n);
            }),
            (e.testProp = function (e, t, n) {
              return N([e], f, t, n);
            }),
            (e.testStyles = m),
            g.addAsyncTest(function () {
              var e,
                t = ['read', 'readText', 'write', 'writeText'];
              if (navigator.clipboard) {
                d('clipboard', !0);
                for (var n = 0; n < t.length; n++)
                  (e = !!navigator.clipboard[t[n]]),
                    d('clipboard.' + t[n].toLowerCase(), e);
              } else d('clipboard', !1);
            }),
            g.addTest(
              'contextmenu',
              'contextMenu' in v && 'HTMLMenuItemElement' in p,
            ),
            g.addTest(
              'cors',
              'XMLHttpRequest' in p &&
                'withCredentials' in new XMLHttpRequest(),
            ),
            g.addTest(
              'es6array',
              !!(
                Array.prototype &&
                Array.prototype.copyWithin &&
                Array.prototype.fill &&
                Array.prototype.find &&
                Array.prototype.findIndex &&
                Array.prototype.keys &&
                Array.prototype.entries &&
                Array.prototype.values &&
                Array.from &&
                Array.of
              ),
            ),
            g.addTest('arrow', function () {
              try {
                (0, eval)('()=>{}');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('es6class', function () {
              try {
                (0, eval)('class A{}');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest(
              'es6collections',
              !!(p.Map && p.Set && p.WeakMap && p.WeakSet),
            ),
            g.addTest('generators', function () {
              try {
                new Function('function* test() {}')();
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest(
              'es6math',
              !!(
                Math &&
                Math.clz32 &&
                Math.cbrt &&
                Math.imul &&
                Math.sign &&
                Math.log10 &&
                Math.log2 &&
                Math.log1p &&
                Math.expm1 &&
                Math.cosh &&
                Math.sinh &&
                Math.tanh &&
                Math.acosh &&
                Math.asinh &&
                Math.atanh &&
                Math.hypot &&
                Math.trunc &&
                Math.fround
              ),
            ),
            g.addTest(
              'es6number',
              !!(
                Number.isFinite &&
                Number.isInteger &&
                Number.isSafeInteger &&
                Number.isNaN &&
                Number.parseInt &&
                Number.parseFloat &&
                Number.isInteger(Number.MAX_SAFE_INTEGER) &&
                Number.isInteger(Number.MIN_SAFE_INTEGER) &&
                Number.isFinite(Number.EPSILON)
              ),
            ),
            g.addTest(
              'es6object',
              !!(Object.assign && Object.is && Object.setPrototypeOf),
            ),
            g.addTest('promises', function () {
              return (
                'Promise' in p &&
                'resolve' in p.Promise &&
                'reject' in p.Promise &&
                'all' in p.Promise &&
                'race' in p.Promise &&
                (new p.Promise(function (e) {
                  t = e;
                }),
                'function' == typeof t)
              );
              var t;
            }),
            g.addTest('restparameters', function () {
              try {
                (0, eval)('function f(...rest) {}');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('spreadarray', function () {
              try {
                (0, eval)('(function f(){})(...[1])');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('stringtemplate', function () {
              try {
                return (
                  '-1-' ===
                  (0, eval)('(function(){var a=1; return `-${a}-`;})()')
                );
              } catch (e) {
                return !1;
              }
            }),
            g.addTest(
              'es6string',
              !!(
                String.fromCodePoint &&
                String.raw &&
                String.prototype.codePointAt &&
                String.prototype.repeat &&
                String.prototype.startsWith &&
                String.prototype.endsWith &&
                String.prototype.includes
              ),
            ),
            g.addTest(
              'es6symbol',
              !!(
                'function' == typeof Symbol &&
                Symbol.for &&
                Symbol.hasInstance &&
                Symbol.isConcatSpreadable &&
                Symbol.iterator &&
                Symbol.keyFor &&
                Symbol.match &&
                Symbol.prototype &&
                Symbol.replace &&
                Symbol.search &&
                Symbol.species &&
                Symbol.split &&
                Symbol.toPrimitive &&
                Symbol.toStringTag &&
                Symbol.unscopables
              ),
            ),
            g.addTest(
              'es7array',
              !(!Array.prototype || !Array.prototype.includes),
            ),
            g.addTest('restdestructuringarray', function () {
              try {
                (0, eval)('var [...rest]=[1]');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('restdestructuringobject', function () {
              try {
                (0, eval)('var {...rest}={a:1}');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('spreadobject', function () {
              try {
                (0, eval)('var a={...{b:1}}');
              } catch (e) {
                return !1;
              }
              return !0;
            }),
            g.addTest('es8object', !(!Object.entries || !Object.values)),
            g.addTest(
              'customevent',
              'CustomEvent' in p && 'function' == typeof p.CustomEvent,
            ),
            g.addTest('eventlistener', 'addEventListener' in p),
            g.addTest('forcetouch', function () {
              return (
                !!a(T('mouseforcewillbegin', p, !1), p) &&
                MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN &&
                MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN
              );
            }),
            g.addTest('hashchange', function () {
              return (
                !1 !== a('hashchange', p) &&
                (u.documentMode === f || 7 < u.documentMode)
              );
            }),
            g.addTest('oninput', function () {
              var e = y('input');
              if (
                (e.setAttribute('oninput', 'return'),
                (e.style.cssText = 'position:fixed;top:0;'),
                a('oninput', v) || 'function' == typeof e.oninput)
              )
                return !0;
              try {
                var t = u.createEvent('KeyboardEvent'),
                  n = !1,
                  r = function (e) {
                    (n = !0), e.preventDefault(), e.stopPropagation();
                  };
                t.initKeyEvent(
                  'keypress',
                  !0,
                  !0,
                  p,
                  !1,
                  !1,
                  !1,
                  !1,
                  0,
                  'e'.charCodeAt(0),
                ),
                  v.appendChild(e),
                  e.addEventListener('input', r, !1),
                  e.focus(),
                  e.dispatchEvent(t),
                  e.removeEventListener('input', r, !1),
                  v.removeChild(e);
              } catch (e) {
                n = !1;
              }
              return n;
            }),
            [''].concat(w)),
          de =
            ((e._domPrefixesAll = j),
            g.addTest('pointerevents', function () {
              for (var e = 0, t = j.length; e < t; e++)
                if (a(j[e] + 'pointerdown')) return !0;
              return !1;
            }),
            g.addTest('history', function () {
              var e = navigator.userAgent;
              return (
                !!e &&
                ((-1 === e.indexOf('Android 2.') &&
                  -1 === e.indexOf('Android 4.0')) ||
                  -1 === e.indexOf('Mobile Safari') ||
                  -1 !== e.indexOf('Chrome') ||
                  -1 !== e.indexOf('Windows Phone') ||
                  'file:' === location.protocol) &&
                p.history &&
                'pushState' in p.history
              );
            }),
            g.addTest('sandbox', 'sandbox' in y('iframe')),
            g.addTest('seamless', 'seamless' in y('iframe')),
            g.addTest('srcdoc', 'srcdoc' in y('iframe')),
            g.addTest('canvas', function () {
              var e = y('canvas');
              return !(!e.getContext || !e.getContext('2d'));
            }),
            g.addAsyncTest(function () {
              if (!g.canvas) return !1;
              var e = new Image(),
                t = y('canvas'),
                n = t.getContext('2d');
              (e.onload = function () {
                d('apng', function () {
                  return (
                    void 0 !== t.getContext &&
                    (n.drawImage(e, 0, 0),
                    0 === n.getImageData(0, 0, 1, 1).data[3])
                  );
                });
              }),
                (e.src =
                  'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg==');
            }),
            g.addAsyncTest(function () {
              var e = new Image();
              (e.onload = e.onerror =
                function () {
                  d('avif', 1 === e.width);
                }),
                (e.src =
                  'data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAEcbWV0YQAAAAAAAABIaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGNhdmlmIC0gaHR0cHM6Ly9naXRodWIuY29tL2xpbmstdS9jYXZpZgAAAAAeaWxvYwAAAAAEQAABAAEAAAAAAUQAAQAAABcAAAAqaWluZgEAAAAAAAABAAAAGmluZmUCAAAAAAEAAGF2MDFJbWFnZQAAAAAOcGl0bQAAAAAAAQAAAHJpcHJwAAAAUmlwY28AAAAQcGFzcAAAAAEAAAABAAAAFGlzcGUAAAAAAAAAAQAAAAEAAAAQcGl4aQAAAAADCAgIAAAAFmF2MUOBAAwACggYAAYICGgIIAAAABhpcG1hAAAAAAAAAAEAAQUBAoMDhAAAAB9tZGF0CggYAAYICGgIIBoFHiAAAEQiBACwDoA=');
            }),
            g.addTest('imgcrossorigin', 'crossOrigin' in y('img')),
            g.addAsyncTest(function () {
              var e = new Image();
              (e.onerror = function () {
                d('exiforientation', !1);
              }),
                (e.onload = function () {
                  d('exiforientation', 2 !== e.width);
                }),
                (e.src =
                  'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q==');
            }),
            g.addAsyncTest(function () {
              var e = new Image();
              (e.onload = e.onerror =
                function () {
                  d('jpeg2000', 1 === e.width);
                }),
                (e.src =
                  'data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k=');
            }),
            g.addTest('lazyloading', 'loading' in HTMLImageElement.prototype),
            g.addAsyncTest(function () {
              function n(n, e, r) {
                function t(e) {
                  var t = !(!e || 'load' !== e.type) && 1 === o.width;
                  d(n, 'webp' === n && t ? new Boolean(t) : t), r && r(e);
                }
                var o = new Image();
                (o.onerror = t), (o.onload = t), (o.src = e);
              }
              var r = [
                  {
                    uri: 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=',
                    name: 'webp',
                  },
                  {
                    uri: 'data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==',
                    name: 'webp.alpha',
                  },
                  {
                    uri: 'data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA',
                    name: 'webp.animation',
                  },
                  {
                    uri: 'data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=',
                    name: 'webp.lossless',
                  },
                ],
                e = r.shift();
              n(e.name, e.uri, function (e) {
                if (e && 'load' === e.type)
                  for (var t = 0; t < r.length; t++) n(r[t].name, r[t].uri);
              });
            }),
            g.addTest('messagechannel', 'MessageChannel' in p),
            g.addTest('beacon', 'sendBeacon' in navigator),
            g.addTest('fetch', 'fetch' in p),
            g.addTest('performance', !!T('performance', p)),
            !0);
        try {
          p.postMessage(
            {
              toString: function () {
                de = !1;
              },
            },
            '*',
          );
        } catch (e) {}
        g.addTest('postmessage', new Boolean('postMessage' in p)),
          g.addTest('postmessage.structuredclones', de),
          g.addTest('proxy', 'Proxy' in p),
          g.addTest(
            'queryselector',
            'querySelector' in u && 'querySelectorAll' in u,
          ),
          g.addTest('prefetch', function () {
            var e;
            return (
              11 === u.documentMode ||
              (!(!(e = y('link').relList) || !e.supports) &&
                e.supports('prefetch'))
            );
          }),
          g.addTest('requestanimationframe', !!T('requestAnimationFrame', p), {
            aliases: ['raf'],
          }),
          g.addTest('scriptasync', 'async' in y('script')),
          g.addTest('scriptdefer', 'defer' in y('script')),
          g.addTest('serviceworker', 'serviceWorker' in navigator),
          g.addTest('cookies', function () {
            try {
              u.cookie = 'cookietest=1';
              var e = -1 !== u.cookie.indexOf('cookietest=');
              return (
                (u.cookie =
                  'cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT'),
                e
              );
            } catch (e) {
              return !1;
            }
          }),
          g.addAsyncTest(function () {
            var t;
            try {
              t = T('indexedDB', p);
            } catch (t) {}
            if (t) {
              var n,
                r = 'modernizr-' + Math.random();
              try {
                n = t.open(r);
              } catch (t) {
                return void d('indexeddb', !1);
              }
              (n.onerror = function (e) {
                !n.error ||
                ('InvalidStateError' !== n.error.name &&
                  'UnknownError' !== n.error.name)
                  ? (d('indexeddb', !0), q(t, r))
                  : (d('indexeddb', !1), e.preventDefault());
              }),
                (n.onsuccess = function () {
                  d('indexeddb', !0), q(t, r);
                });
            } else d('indexeddb', !1);
          }),
          g.addTest('localstorage', function () {
            var e = 'modernizr';
            try {
              return localStorage.setItem(e, e), localStorage.removeItem(e), !0;
            } catch (e) {
              return !1;
            }
          }),
          g.addTest('sessionstorage', function () {
            var e = 'modernizr';
            try {
              return (
                sessionStorage.setItem(e, e), sessionStorage.removeItem(e), !0
              );
            } catch (e) {
              return !1;
            }
          }),
          g.addTest('websqldatabase', 'openDatabase' in p),
          g.addTest('webanimations', 'animate' in y('div')),
          g.addTest('webgl', function () {
            return 'WebGLRenderingContext' in p;
          }),
          g.addTest('peerconnection', !!T('RTCPeerConnection', p)),
          g.addTest('datachannel', function () {
            if (g.peerconnection)
              for (var e = 0, t = j.length; e < t; e++) {
                var n = p[j[e] + 'RTCPeerConnection'];
                if (n)
                  try {
                    return 'createDataChannel' in new n({});
                  } catch (e) {}
              }
            return !1;
          }),
          g.addTest(
            'getUserMedia',
            'mediaDevices' in navigator &&
              'getUserMedia' in navigator.mediaDevices,
          ),
          g.addTest('resizeobserver', 'ResizeObserver' in p),
          g.addAsyncTest(function () {
            function e() {
              d('blobworkers', !1), t();
            }
            function t() {
              s && r.revokeObjectURL(s),
                i && i.terminate(),
                c && clearTimeout(c);
            }
            try {
              var n = p.BlobBuilder,
                r = p.URL;
              g._config.usePrefix &&
                ((n =
                  n ||
                  p.MozBlobBuilder ||
                  p.WebKitBlobBuilder ||
                  p.MSBlobBuilder ||
                  p.OBlobBuilder),
                (r = r || p.MozURL || p.webkitURL || p.MSURL || p.OURL));
              var o,
                a,
                i,
                s,
                c,
                l = 'this.onmessage=function(e){postMessage(e.data)}';
              try {
                o = new Blob([l], { type: 'text/javascript' });
              } catch (e) {}
              o || ((a = new n()).append(l), (o = a.getBlob())),
                (s = r.createObjectURL(o)),
                ((i = new Worker(s)).onmessage = function (e) {
                  d('blobworkers', 'Modernizr' === e.data), t();
                }),
                (i.onerror = e),
                (c = setTimeout(e, 200)),
                i.postMessage('Modernizr');
            } catch (t) {
              e();
            }
          }),
          g.addAsyncTest(function () {
            try {
              var t = new Worker(
                'data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=',
              );
              (t.onmessage = function (e) {
                t.terminate(),
                  d('dataworkers', 'Modernizr' === e.data),
                  (t = null);
              }),
                (t.onerror = function () {
                  d('dataworkers', !1), (t = null);
                }),
                setTimeout(function () {
                  d('dataworkers', !1);
                }, 200),
                t.postMessage('Modernizr');
            } catch (t) {
              setTimeout(function () {
                d('dataworkers', !1);
              }, 0);
            }
          }),
          g.addTest('sharedworkers', 'SharedWorker' in p),
          g.addTest(
            'blobconstructor',
            function () {
              try {
                return !!new Blob();
              } catch (e) {
                return !1;
              }
            },
            { aliases: ['blob-constructor'] },
          );
        var B,
          C,
          D,
          R,
          L,
          M,
          pe,
          t = (t = T('URL', p, !1)) && p[t];
        for (pe in (g.addTest(
          'bloburls',
          t && 'revokeObjectURL' in t && 'createObjectURL' in t,
        ),
        g.addTest('webworkers', 'Worker' in p),
        g.addTest('typedarrays', 'ArrayBuffer' in p),
        g.addAsyncTest(function () {
          function e() {
            d('transferables', !1), t();
          }
          function t() {
            a && URL.revokeObjectURL(a),
              i && i.terminate(),
              r && clearTimeout(r);
          }
          if (
            !(g.blobconstructor && g.bloburls && g.webworkers && g.typedarrays)
          )
            return d('transferables', !1);
          try {
            var n,
              r,
              o = new Blob(['var hello = "world"'], {
                type: 'text/javascript',
              }),
              a = URL.createObjectURL(o),
              i = new Worker(a);
            (i.onerror = e),
              (r = setTimeout(e, 200)),
              (n = new ArrayBuffer(1)),
              i.postMessage(n, [n]),
              d('transferables', 0 === n.byteLength),
              t();
          } catch (t) {
            e();
          }
        }),
        o))
          if (o.hasOwnProperty(pe)) {
            if (
              ((B = []),
              (C = o[pe]).name &&
                (B.push(C.name.toLowerCase()), C.options) &&
                C.options.aliases &&
                C.options.aliases.length)
            )
              for (D = 0; D < C.options.aliases.length; D++)
                B.push(C.options.aliases[D].toLowerCase());
            for (
              R = h(C.fn, 'function') ? C.fn() : C.fn, L = 0;
              L < B.length;
              L++
            )
              1 === (M = B[L].split('.')).length
                ? (g[M[0]] = R)
                : ((g[M[0]] && (!g[M[0]] || g[M[0]] instanceof Boolean)) ||
                    (g[M[0]] = new Boolean(g[M[0]])),
                  (g[M[0]][M[1]] = R)),
                H.push((R ? '' : 'no-') + M.join('-'));
          }
        I(H), delete e.addTest, delete e.addAsyncTest;
        for (var fe = 0; fe < g._q.length; fe++) g._q[fe]();
        Q.Modernizr = g;
      })(window, window, document),
      {
        Element: {
          sandbox: { title: 'iframe/sandbox', keyPath: 'iframe/sandbox' },
          seamless: { title: 'iframe/seamless', keyPath: 'iframe/seamless' },
          srcdoc: { title: 'iframe/srcdoc', keyPath: 'iframe/srcdoc' },
          apng: { title: 'img/apng', keyPath: 'img/apng' },
          avif: { title: 'img/avif', keyPath: 'img/avif' },
          imgcrossorigin: {
            title: 'img/crossorigin',
            keyPath: 'img/crossorigin',
          },
          exiforientation: {
            title: 'img/exif-orientation',
            keyPath: 'img/exif-orientation',
          },
          jpeg2000: { title: 'img/jpeg2000', keyPath: 'img/jpeg2000' },
          lazyloading: { title: 'img/lazyloading', keyPath: 'img/lazyloading' },
          webp: { title: 'img/webp', keyPath: 'img/webp' },
          prefetch: { title: 'link/prefetch', keyPath: 'link/prefetch' },
          scriptasync: { title: 'script/async', keyPath: 'script/async' },
          scriptdefer: { title: 'script/defer', keyPath: 'script/defer' },
        },
        Feature: {
          clipboard: { title: 'Clipboard', keyPath: 'clipboard' },
          contextmenu: { title: 'Contextmenu', keyPath: 'contextmenu' },
          customevent: { title: 'Custom Event', keyPath: 'event/customevent' },
          eventlistener: {
            title: 'Eventlistener',
            keyPath: 'event/eventlistener',
          },
          forcetouch: { title: 'Force Touch', keyPath: 'event/forcetouch' },
          hashchange: { title: 'Hash Change', keyPath: 'event/hashchange' },
          oninput: { title: 'Input Event', keyPath: 'event/oninput' },
          pointerevents: {
            title: 'Pointer Event',
            keyPath: 'event/forcetouch',
          },
          history: { title: 'History', keyPath: 'history' },
          messagechannel: {
            title: 'Message Channel',
            keyPath: 'messagechannel',
          },
          postmessage: { title: 'Postmessage', keyPath: 'postmessage' },
          performance: { title: 'Performance API', keyPath: 'performance' },
          queryselector: { title: 'queryselector', keyPath: 'queryselector' },
          requestanimationframe: {
            title: 'requestanimationframe',
            keyPath: 'requestanimationframe',
          },
          serviceworker: { title: 'Service Worker', keyPath: 'serviceworker' },
          webanimations: { title: 'Web Animation', keyPath: 'webanimations' },
          webgl: { title: 'WebGL', keyPath: 'webgl/webgl' },
          datachannel: {
            title: 'WebRTC/datachannel',
            keyPath: 'webrtc/datachannel',
          },
          getusermedia: {
            title: 'WebRTC/getusermedia',
            keyPath: 'webrtc/getusermedia',
          },
          peerconnection: {
            title: 'WebRTC/peerconnection',
            keyPath: 'webrtc/peerconnection',
          },
          resizeobserver: {
            title: 'Resizeobserver',
            keyPath: 'window/resizeobserver',
          },
          sharedworkers: {
            title: 'Shared Worker',
            keyPath: 'workers/sharedworkers',
          },
          webworkers: { title: 'Web Worker', keyPath: 'workers/webworkers' },
        },
        Network: {
          cors: { title: 'Cors', keyPath: 'cors' },
          beacon: { title: 'Beacon', keyPath: 'network/beacon' },
          fetch: { title: 'Fetch', keyPath: 'network/fetch' },
        },
        Javascript: {
          es6array: { title: 'ES6 Array', keyPath: 'es6/array' },
          arrow: { title: 'ES6 Arrow Function', keyPath: 'es6/arrow' },
          es6class: { title: 'ES6 Class', keyPath: 'es6/class' },
          es6collections: {
            title: 'ES6 Collections',
            keyPath: 'es6/collections',
          },
          generators: { title: 'ES6 Generators', keyPath: 'es6/generators' },
          es6math: { title: 'ES6 Math', keyPath: 'es6/math' },
          es6number: { title: 'ES6 Number', keyPath: 'es6/number' },
          es6object: { title: 'ES6 Object', keyPath: 'es6/object' },
          promises: { title: 'ES6 Promise', keyPath: 'es6/promises' },
          restparameters: {
            title: 'ES6 Rest Parameters',
            keyPath: 'es6/rest-parameters',
          },
          spreadarray: {
            title: 'ES6 Array Spread',
            keyPath: 'es6/spread-array',
          },
          stringtemplate: {
            title: 'ES6 String Template',
            keyPath: 'es6/string-template',
          },
          es6string: { title: 'ES6 String', keyPath: 'es6/string' },
          es6symbol: { title: 'ES6 Symbol', keyPath: 'es6/symbol' },
          es7array: { title: 'ES7 Array', keyPath: 'es7/array' },
          restdestructuringarray: {
            title: 'ES7 Rest Destructuring',
            keyPath: 'es7/rest-destructuring',
          },
          spreadobject: {
            title: 'ES7 Object Spread',
            keyPath: 'es7/spread-object',
          },
          es8object: { title: 'ES8 Object', keyPath: 'es8/object' },
          finally: {
            title: 'ES9 Promise Finally',
            customTest: '<ES6 Promise> && !!Promise.prototype.finally',
          },
        },
        Storage: {
          cookies: { title: 'Cookies', keyPath: 'storage/cookies' },
          indexeddb: { title: 'IndexedDB', keyPath: 'storage/indexeddb' },
          localstorage: {
            title: 'LocalStorage',
            keyPath: 'storage/localstorage',
          },
          sessionstorage: {
            title: 'SessionStorage',
            keyPath: 'storage/sessionstorage',
          },
          websqldatabase: {
            title: 'Web SQL Database',
            keyPath: 'storage/websqldatabase',
          },
        },
      }),
    pe = 'https://github.com/Modernizr/Modernizr/tree/master/feature-detects',
    fe = ['indexeddb', 'apng', 'avif', 'exiforientation', 'jpeg2000', 'webp'];
  function me() {
    return (me = r(
      d.mark(function e() {
        var n, t;
        return d.wrap(function (e) {
          for (;;)
            switch ((e.prev = e.next)) {
              case 0:
                (n = {
                  Element: [],
                  Feature: [],
                  Network: [],
                  Javascript: [],
                  Storage: [],
                }),
                  G(de).forEach(function (e) {
                    var o = de[e],
                      t = G(o).map(
                        (function () {
                          var t = r(
                            d.mark(function e(t) {
                              var r;
                              return d.wrap(function (e) {
                                for (;;)
                                  switch ((e.prev = e.next)) {
                                    case 0:
                                      if (
                                        ((r = o[t]).keyPath &&
                                          (r.keyPath = ''
                                            .concat(pe, '/')
                                            .concat(r.keyPath, '.js')),
                                        !(-1 < fe.indexOf(t)))
                                      ) {
                                        e.next = 8;
                                        break;
                                      }
                                      e.next = 5;
                                      var n = t;
                                      return new Promise(function (t) {
                                        Modernizr.on(n, function (e) {
                                          t(e);
                                        });
                                      });
                                    case 5:
                                      (r.supported = e.sent), (e.next = 9);
                                      break;
                                    case 8:
                                      r.supported = Modernizr[t];
                                    case 9:
                                      return e.abrupt('return', r);
                                    case 10:
                                    case 'end':
                                      return e.stop();
                                  }
                              }, e);
                            }),
                          );
                          return function (e) {
                            return t.apply(this, arguments);
                          };
                        })(),
                      );
                    n[e] = t;
                  }),
                  (e.t0 = d.keys(n));
              case 3:
                if ((e.t1 = e.t0()).done) e.next = 11;
                else {
                  if (((t = e.t1.value), y(n, t)))
                    return (e.next = 8), Promise.all(n[t]);
                  e.next = 9;
                }
                break;
              case 8:
                n[t] = e.sent;
              case 9:
                e.next = 3;
                break;
              case 11:
                return e.abrupt('return', n);
              case 12:
              case 'end':
                return e.stop();
            }
        }, e);
      }),
    )).apply(this, arguments);
  }
  function Ae(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  window.Modernizr.addTest(
    'finally',
    Modernizr.promises && !!Promise.prototype.finally,
  ),
    window.Modernizr.addTest(
      'iframe',
      Modernizr.sandbox && Modernizr.seamless && Modernizr.srcdoc,
    );
  var ge = (function () {
      function e() {
        a(this, e), (this.name = 'SystemPlugin');
      }
      var t;
      return (
        s(e, [
          {
            key: 'onCreated',
            value:
              ((t = r(
                d.mark(function e() {
                  var t, n;
                  return d.wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (t = f()),
                            (e.next = 3),
                            (function () {
                              return me.apply(this, arguments);
                            })()
                          );
                        case 3:
                          (n = e.sent),
                            P.broadcastMessage(
                              k('system', {
                                id: t,
                                system: (function (t) {
                                  for (var e = 1; e < arguments.length; e++) {
                                    var n =
                                      null != arguments[e] ? arguments[e] : {};
                                    e % 2
                                      ? Ae(Object(n), !0).forEach(function (e) {
                                          l(t, e, n[e]);
                                        })
                                      : Object.getOwnPropertyDescriptors
                                      ? Object.defineProperties(
                                          t,
                                          Object.getOwnPropertyDescriptors(n),
                                        )
                                      : Ae(Object(n)).forEach(function (e) {
                                          Object.defineProperty(
                                            t,
                                            e,
                                            Object.getOwnPropertyDescriptor(
                                              n,
                                              e,
                                            ),
                                          );
                                        });
                                  }
                                  return t;
                                })({ ua: navigator.userAgent }, le()),
                                features: n,
                              }),
                            );
                        case 5:
                        case 'end':
                          return e.stop();
                      }
                  }, e);
                }),
              )),
              function () {
                return t.apply(this, arguments);
              }),
          },
        ]),
        e
      );
    })(),
    ve = (function () {
      function n() {
        a(this, n), l(this, 'name', 'PagePlugin');
      }
      return (
        s(
          n,
          [
            {
              key: 'onCreated',
              value: function () {
                window.addEventListener('load', function () {
                  var e = n.collectHtml();
                  P.broadcastMessage(e);
                }),
                  P.addListener('refresh', function (e, t) {
                    'page' === e.source.data && t(n.collectHtml());
                  });
              },
            },
          ],
          [
            {
              key: 'collectHtml',
              value: function () {
                return k('page', { html: document.documentElement.outerHTML });
              },
            },
          ],
        ),
        n
      );
    })();
  function be(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function we(t) {
    for (var e = 1; e < arguments.length; e++) {
      var n = null != arguments[e] ? arguments[e] : {};
      e % 2
        ? be(Object(n), !0).forEach(function (e) {
            l(t, e, n[e]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
        : be(Object(n)).forEach(function (e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
          });
    }
    return t;
  }
  var Ee = (function () {
      function i() {
        a(this, i), l(this, 'name', 'StoragePlugin');
      }
      return (
        s(
          i,
          [
            {
              key: 'onCreated',
              value: function () {
                var n = i.sendStorageItem,
                  e = i.initStorageProxy,
                  r = we({}, localStorage),
                  o =
                    (Object.keys(r).forEach(function (e) {
                      var t = r[e];
                      n({ type: 'local', action: 'get', key: e, value: t });
                    }),
                    we({}, sessionStorage));
                Object.keys(o).forEach(function (e) {
                  var t = o[e];
                  n({ type: 'session', action: 'get', key: e, value: t });
                }),
                  document.cookie.split('; ').forEach(function (e) {
                    var e = m(e.split('='), 2),
                      t = e[0],
                      e = e[1];
                    n({ type: 'cookie', action: 'get', key: t, value: e });
                  }),
                  e();
              },
            },
          ],
          [
            {
              key: 'initStorageProxy',
              value: function () {
                var r = i.getStorageType,
                  o = i.sendStorageItem,
                  e = Storage.prototype,
                  t = e.clear,
                  n = e.removeItem,
                  a = e.setItem;
                (Storage.prototype.clear = function () {
                  var e = r(this);
                  return o({ type: e, action: 'clear' }), t.call(this);
                }),
                  (Storage.prototype.removeItem = function (e) {
                    var t = r(this);
                    return (
                      o({ type: t, action: 'remove', key: e }), n.call(this, e)
                    );
                  }),
                  (Storage.prototype.setItem = function (e, t) {
                    var n = r(this);
                    return (
                      o({ type: n, action: 'set', key: e, value: t }),
                      a.call(this, e, t)
                    );
                  });
              },
            },
            {
              key: 'sendStorageItem',
              value: function (e) {
                var t = e.type,
                  n = e.action,
                  r = e.key,
                  e = e.value,
                  t = k('storage', {
                    type: t,
                    action: n,
                    key: void 0 === r ? '' : r,
                    value: void 0 === e ? '' : e,
                  });
                P.broadcastMessage(t);
              },
            },
            {
              key: 'getStorageType',
              value: function (e) {
                return e === localStorage
                  ? 'local'
                  : e === sessionStorage
                  ? 'session'
                  : e.constructor.name;
              },
            },
          ],
        ),
        i
      );
    })(),
    ke = (function () {
      function t() {
        var e =
          0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : '';
        if ((a(this, t), l(this, 'protocol', []), !(this.base = e)))
          throw Error('The api base url cannot be empty');
        this.protocol = new URL(
          (null == (e = document.currentScript) ? void 0 : e.baseURI) || '',
        ).protocol.startsWith('https')
          ? ['https://', 'wss://']
          : ['http://', 'ws://'];
      }
      return (
        s(t, [
          {
            key: 'createRoom',
            value: function (e) {
              var t,
                n,
                r,
                o,
                a = le(),
                a =
                  ((n = (t = a).osName),
                  (r = a.osVersion),
                  (o = a.browserName),
                  (t = a.browserVersion),
                  ''.concat(n, '/').concat(r, ' ').concat(o, '/').concat(t));
              return fetch(
                ''
                  .concat(this.protocol[0])
                  .concat(this.base, '/api/v1/room/create?name=')
                  .concat(a, '&group=')
                  .concat(e),
                { method: 'POST' },
              )
                .then(function (e) {
                  return e.json();
                })
                .catch(function (e) {
                  throw Error('Request create room failed: '.concat(e.message));
                });
            },
          },
          {
            key: 'getRoomUrl',
            value: function () {
              var a =
                  0 < arguments.length && void 0 !== arguments[0]
                    ? arguments[0]
                    : {},
                e = Object.keys(a).reduce(function (e, t, n, r) {
                  var o = a[t];
                  return null == o
                    ? e
                    : ((t = ''.concat(t, '=').concat(o)),
                      n < r.length - 1 && (t += '&'),
                      e + t);
                }, '');
              return ''
                .concat(this.protocol[1])
                .concat(this.base, '/api/v1/ws/room/join?')
                .concat(e);
            },
          },
        ]),
        t
      );
    })(),
    Se = '0.0.1';
  function xe(e) {
    return window.TouchEvent && e instanceof TouchEvent ? e.touches[0] : e;
  }
  var e, D, R;
  (o =
    '#__pageSpy {\n  font-size: 14px;\n}\n#__pageSpy .page-spy-logo {\n  position: fixed;\n  left: 1.42857143em;\n  bottom: 5.71428571em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5.71428571em;\n  height: 5.71428571em;\n  font-size: 1em;\n  border-radius: 5.71428571em;\n  background-color: #fff;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 13000;\n}\n#__pageSpy .page-spy-modal {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: all ease-out 0.3s;\n  z-index: 13000;\n}\n#__pageSpy .page-spy-modal.show {\n  opacity: 1;\n}\n#__pageSpy .page-spy-content {\n  max-width: 25em;\n  background-color: #fafafa;\n  border-radius: 0.28571429em;\n  text-align: center;\n}\n#__pageSpy .page-spy-content__info {\n  padding: 1.71428571em 1.14285714em;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  text-align: left;\n  color: #202124;\n  letter-spacing: 2px;\n}\n#__pageSpy .page-spy-content__info > p {\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#__pageSpy .page-spy-content__info > p b {\n  display: inline-block;\n  width: 100px;\n  text-align: right;\n  margin-right: 10px;\n}\n#__pageSpy .page-spy-content__ok {\n  padding: 0.57142857em 0;\n  border-top: 1px solid #eee;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  color: transparent;\n  -webkit-background-clip: text;\n          background-clip: text;\n  background-image: linear-gradient(45deg, #efdfff, #4e00b1 52%, #3d0c7c);\n  cursor: pointer;\n}\n'),
    (R = (R = void 0 === R ? {} : R).insertAt),
    o &&
      'undefined' != typeof document &&
      ((e = document.head || document.getElementsByTagName('head')[0]),
      ((D = document.createElement('style')).type = 'text/css'),
      'top' === R && e.firstChild
        ? e.insertBefore(D, e.firstChild)
        : e.appendChild(D),
      D.styleSheet
        ? (D.styleSheet.cssText = o)
        : D.appendChild(document.createTextNode(o)));
  function Oe(t, e) {
    var n,
      r = Object.keys(t);
    return (
      Object.getOwnPropertySymbols &&
        ((n = Object.getOwnPropertySymbols(t)),
        e &&
          (n = n.filter(function (e) {
            return Object.getOwnPropertyDescriptor(t, e).enumerable;
          })),
        r.push.apply(r, n)),
      r
    );
  }
  function Pe(t) {
    for (var e = 1; e < arguments.length; e++) {
      var n = null != arguments[e] ? arguments[e] : {};
      e % 2
        ? Oe(Object(n), !0).forEach(function (e) {
            l(t, e, n[e]);
          })
        : Object.getOwnPropertyDescriptors
        ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
        : Oe(Object(n)).forEach(function (e) {
            Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
          });
    }
    return t;
  }
  var Te = null == (R = document.currentScript) ? void 0 : R.src,
    je = { api: '', clientOrigin: '', project: 'default' },
    Be = function () {
      var e;
      return Te
        ? {
            api: (e = new URL(Te)).host,
            clientOrigin: e.origin,
            project: 'default',
          }
        : null;
    },
    Ce = '__pageSpy';
  return (function () {
    function n() {
      var t = this,
        e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
      a(this, n),
        l(this, 'root', null),
        l(this, 'version', Se),
        l(this, 'plugins', {}),
        l(this, 'name', ''),
        l(this, 'address', ''),
        l(this, 'roomUrl', ''),
        l(this, 'socketStore', P),
        (this.config = ((e = e), Pe(Pe({}, Be() || je), e))),
        (this.request = new ke(this.config.api)),
        document.getElementById(Ce)
          ? console.error('PageSpy has been inited.')
          : (this.loadPlugins(
              new oe(),
              new ae(),
              new ce(),
              new ge(),
              new ve(),
              new Ee(),
            ),
            window.addEventListener(
              'DOMContentLoaded',
              r(
                d.mark(function e() {
                  return d.wrap(function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (e.next = 2), t.initConnection();
                        case 2:
                          t.deferRender();
                        case 3:
                        case 'end':
                          return e.stop();
                      }
                  }, e);
                }),
              ),
            ),
            window.addEventListener('beforeunload', function () {
              P.close();
            }));
    }
    var e, t;
    return (
      s(n, [
        {
          key: 'loadPlugins',
          value: function () {
            for (
              var t = this, e = arguments.length, n = new Array(e), r = 0;
              r < e;
              r++
            )
              n[r] = arguments[r];
            n.forEach(function (e) {
              (t.plugins[e.name] = e).onCreated && e.onCreated();
            });
          },
        },
        {
          key: 'initConnection',
          value:
            ((t = r(
              d.mark(function e() {
                var t, n, r, o, a, i;
                return d.wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          if (null === (t = sessionStorage.getItem(O)))
                            return (e.next = 4), this.createNewConnection();
                          e.next = 6;
                          break;
                        case 4:
                          e.next = 16;
                          break;
                        case 6:
                          if (
                            ((i = JSON.parse(t)),
                            (n = i.name),
                            (r = i.address),
                            (o = i.roomUrl),
                            (a = i.usable),
                            (i = i.project),
                            a && this.config.project === i)
                          ) {
                            e.next = 12;
                            break;
                          }
                          return (e.next = 10), this.createNewConnection();
                        case 10:
                          e.next = 16;
                          break;
                        case 12:
                          (this.name = n),
                            (this.address = r),
                            (this.roomUrl = o),
                            this.useOldConnection();
                        case 16:
                        case 'end':
                          return e.stop();
                      }
                  },
                  e,
                  this,
                );
              }),
            )),
            function () {
              return t.apply(this, arguments);
            }),
        },
        {
          key: 'createNewConnection',
          value:
            ((e = r(
              d.mark(function e() {
                var t, n;
                return d.wrap(
                  function (e) {
                    for (;;)
                      switch ((e.prev = e.next)) {
                        case 0:
                          return (
                            (e.next = 2),
                            this.request.createRoom(this.config.project)
                          );
                        case 2:
                          (t = e.sent),
                            (t = t.data),
                            (n = this.request.getRoomUrl({
                              address: t.address,
                              name: 'client:'.concat(f()),
                              userId: 'Client',
                            })),
                            (this.name = t.name),
                            (this.address = t.address),
                            (this.roomUrl = n),
                            this.refreshRoomInfo(),
                            P.init(n);
                        case 10:
                        case 'end':
                          return e.stop();
                      }
                  },
                  e,
                  this,
                );
              }),
            )),
            function () {
              return e.apply(this, arguments);
            }),
        },
        {
          key: 'useOldConnection',
          value: function () {
            this.refreshRoomInfo(), P.init(this.roomUrl);
          },
        },
        {
          key: 'deferRender',
          value: function () {
            var t,
              n = this;
            void 0 !== document
              ? 'loading' === document.readyState
                ? window.addEventListener('DOMContentLoaded', this.render)
                : this.render()
              : (t = window.setTimeout(function e() {
                  document && 'complete' === document.readyState
                    ? (t && clearTimeout(t), n.render())
                    : (t = window.setTimeout(e, 1));
                }, 1));
          },
        },
        {
          key: 'refreshRoomInfo',
          value: function () {
            var t = this,
              n =
                (this.saveSession(),
                setInterval(function () {
                  var e = sessionStorage.getItem(O);
                  if (null !== e && !1 === JSON.parse(e).usable)
                    return void clearInterval(n);
                  t.saveSession();
                }, 15e3));
          },
        },
        {
          key: 'saveSession',
          value: function () {
            var e = this.name,
              t = this.address,
              n = this.roomUrl,
              e = JSON.stringify({
                name: e,
                address: t,
                roomUrl: n,
                usable: !0,
                project: this.config.project,
              });
            sessionStorage.setItem(O, e);
          },
        },
        {
          key: 'render',
          value: function () {
            var n,
              r,
              o,
              a,
              e = document.createElement('div'),
              t = ((e.id = Ce), (this.root = e), document.createElement('div')),
              i =
                ((t.className = 'page-spy-logo'),
                document.createElement('img')),
              s =
                ((i.alt = 'PageSpy Logo'),
                (i.src =
                  "data:image/svg+xml,%3csvg width='255' height='255' viewBox='0 0 255 255' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M183 24L81 126V141.5L90 150.5H105L145 110.5H160.5L169.5 119.5V133.5L72 231' stroke='url(%23paint0_linear_106_8)' stroke-width='25' stroke-linecap='round' /%3e %3cdefs%3e %3clinearGradient id='paint0_linear_106_8' x1='127.5' y1='24' x2='127.5' y2='231' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%233D0C7C' /%3e %3cstop offset='0.519204' stop-color='%234E00B1' /%3e %3cstop offset='1' stop-color='%23EFDFFF' /%3e %3c/linearGradient%3e %3c/defs%3e%3c/svg%3e"),
                (i.width = 50),
                (i.height = 50),
                t.append(i),
                e.insertAdjacentElement('afterbegin', t),
                new _()),
              i = new W({
                content: {
                  name: this.name,
                  address: this.address,
                  clientOrigin: this.config.clientOrigin,
                  project: this.config.project,
                },
                onOk: function () {
                  s.close();
                },
              });
            function c(e) {
              t.isMoveEvent || (e.stopPropagation(), s.show());
            }
            function l(e) {
              e.preventDefault(), (n.isMoveEvent = !0);
              var e = xe(e),
                t = e.clientX,
                e = e.clientY,
                t = t - a.x,
                e = e - a.y,
                t = r.x + t,
                e = (t < 0 ? (t = 0) : t > o.xAxis && (t = o.xAxis), r.y + e);
              e < 0 ? (e = 0) : e > o.yAxis && (e = o.yAxis),
                (n.style.left = ''.concat(t, 'px')),
                (n.style.top = ''.concat(e, 'px'));
            }
            function u() {
              (a.x = 0),
                (a.y = 0),
                document.removeEventListener('mousemove', l),
                document.removeEventListener('mouseup', u),
                document.removeEventListener('touchmove', l),
                document.removeEventListener('touchend', u);
            }
            function d(e) {
              e.preventDefault(),
                (n.isMoveEvent = !1),
                (r = n.getBoundingClientRect()),
                (o.xAxis = document.documentElement.offsetWidth - r.width),
                (o.yAxis = document.documentElement.offsetHeight - r.height);
              var e = xe(e),
                t = e.clientX,
                e = e.clientY;
              (a.x = t),
                (a.y = e),
                document.addEventListener('mousemove', l, !1),
                document.addEventListener('mouseup', u, !1),
                document.addEventListener('touchmove', l, !1),
                document.addEventListener('touchend', u, !1);
            }
            s.append(i.el),
              e.append(s.el),
              t.addEventListener('click', c, !1),
              t.addEventListener('touchend', c, !1),
              document.documentElement.append(e),
              (o = { xAxis: 0, yAxis: 0 }),
              (a = { x: 0, y: 0 }),
              (n = t).addEventListener('mousedown', d, !1),
              n.addEventListener('touchstart', d, !1),
              this.handleDeviceDPR(),
              console.log('[PageSpy] init success.');
          },
        },
        {
          key: 'handleDeviceDPR',
          value: function () {
            var e = window.devicePixelRatio || 1,
              t = document.querySelector('[name="viewport"]');
            t &&
              ((t = (t.getAttribute('content') || '').match(
                /initial-scale=\d+(\.\d+)?/,
              ))
                ? parseFloat(t[0].split('=')[1])
                : 1) < 1 &&
              (this.root.style.fontSize = ''.concat(14 * e, 'px'));
          },
        },
      ]),
      n
    );
  })();
})();
